!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("scc-gd-c1",[],t):"object"==typeof exports?exports["scc-gd-c1"]=t():e["scc-gd-c1"]=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t);var n={};e.r(n),e.d(n,{_isDebug:()=>R,debug:()=>F,error:()=>q,info:()=>A,log:()=>A,setDebug:()=>L,warn:()=>B});var r={};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}e.r(r),e.d(r,{cmdGetTrackingValues:()=>Pa,cmdLog:()=>Sa,cmdLogImpression:()=>Ea,cmdLogPageEvent:()=>ja,cmdLogPagePerf:()=>ka,cmdLogPageRequest:()=>Oa});var c,u,s,f,l,p=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];try{if(t(n,r))return e}catch(e){}}return e},d=function(){for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];"object"===a(n)&&p(n,(function(t,n){e[t]=n}))}return e},y=function e(t){for(var n in t)void 0===t[n]?delete t[n]:"object"===a(t[n])&&(e(t[n]),0===Object.keys(t[n]).length&&delete t[n]);return t},v=function(e){if(2===e.length)return e[1]},b=function(e,t,n){if("string"!=typeof e)return{};for(var r={},o=e.split(t),i=0;i<o.length;i++){var a=o[i].split(n);r[a[0]]=v(a)}return r},m=function(e,t,n){var r=[];return p(e,(function(e,t){r.push("".concat(e).concat(n).concat(t))})),0===r.length?"":r.join(t)},h=function e(t,n){return n&&(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),Object.keys(t).forEach((function(r){if("object"===a(t[r])){var o=e(t[r],n);n&&(t[r]=o)}})),Object.freeze(t)},g=(c="",s={document:u=Object.create({get cookie(){return c},set cookie(e){c=e}})},f={},"undefined"==typeof window?{window:s,document:u,navigator:f}:{window:window||s,document:window.document||u,navigator:navigator||f}),_=function(){return g.window},w=function(){return g.document},O=function(){return g.navigator},j=function(){var e=_().location;return e&&e.hostname?e.hostname:""},S=function(){var e=j(),t=e.split(".");return t.length>=2&&"co.uk"===(e=t.splice(t.length-2).join("."))&&(e="".concat(t.pop(),".").concat(e)),e},P=function e(t,n,r){var o=r||1;if(n&&!(o>10)){var i=t(n);return!i&&n.parentNode?e(t,n.parentNode,o+1):i}},k=function(){return _().event},E=function(){var e=k();if(void 0!==e&&null!=e){var t=e.target||e.srcElement;if(void 0!==t&&null!=t)return t.nodeType&&3===t.nodeType&&(t=t.parentNode),t}},x=function(e,t){if(e&&e.attributes&&e.attributes[t]&&e.attributes[t].value)return e.attributes[t].value},C=function(e){var t=e.nodeName;return"A"===t||"AREA"===t},T=function(e,t){var n=e||E(),r={};return n&&P((function(e){p(t,(function(t,n){var o=x(e,n);o&&!r[t]&&(r[t]=o)})),C(e)&&(r.href=x(e,"href"))}),n),r},I=function(e,t){var n=w(),r=O(),o=t||k(),i=e||E(),a={};if(i){a.type=i.type,a.eventid=i.id,a.eventclass=i.className,a.eventname=i.name,P((function(e){var t,n=x(e,"data-tcode"),r=x(e,"data-tdata"),o=x(e,"data-ci"),i=x(e,"data-tms"),c=x(e,"data-eid");if(c||(c=x(e,"data-e_id")),c||(c=x(e,"e_id")),C(e)&&(t=x(e,"href")),n||r||o||i||c||t)return n&&(a.tcode=n),r&&(a.usrin=r),o&&(a.ci=o),i&&(a.tms=i),c&&(a.e_id=c),t&&(a.href=t),a}),i);var c=function(e,t,n){if(n&&n.clientX&&n.clientY&&n.pageX&&n.pageY){var r={};if(e&&t&&-1!==t.userAgent.indexOf("MSIE")){var o="CSS1Compat"===e.compatMode?e.documentElement:e.body;r.pagex=Math.round(n.clientX+(o.scrollLeft?o.scrollLeft:0)),r.pagey=Math.round(n.clientY+(o.scrollTop?o.scrollTop:0))}else r.pagex=Math.round(n.pageX),r.pagey=Math.round(n.pageY);return r.clientx=Math.round(n.clientX),r.clienty=Math.round(n.clientY),r}}(n,r,o);if(c)a.absolutex=c.pagex,a.absolutey=c.pagey,a.relativex=c.clientx,a.relativey=c.clienty;else{var u=function(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetLeft,e=e.offsetParent;else e.x&&(t+=e.x);return t}(i),s=function(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;else e.y&&(t+=e.y);return t}(i);a.absolutex=u,a.absolutey=s,a.relativex=u,a.relativey=s}}return y(a),a},R=!1,L=function(e){R=!0===e||"true"===e},D=function(e){return _().console,function(){}},A=D(),q=D(),B=D(),F=function(){if(R){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.apply(null,t)}},M=function(e){if(_()[l])return _()[l][e]},N=function(e,t){_()[l]&&(_()[l][e]=t)},U=function(e,t){_()[e]=t,N(e,t)},V=function(e,t){if(void 0===e)return e;void 0===t&&(t=2);for(var n=String(e);n.length<t;)n="0"+n;return n},G=function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t},K=function(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]||void 0!==e)return!0===e||1===e||"string"==typeof e&&("true"===e.toLowerCase()||"1"===e)},z=function(e){var t=parseInt(e,10);if(!isNaN(t))return t},W=function(e){var t=parseFloat(e);if(!isNaN(t))return t},H=function(e){return/^-?\d+$/.test(e)},Q=function(){return function(e){var t=e.getUTCFullYear()+"-"+V(e.getUTCMonth()+1);if(t+="-"+V(e.getUTCDate())+"T"+V(e.getUTCHours())+":",t+=V(e.getUTCMinutes())+":"+V(e.getUTCSeconds()),e.getUTCMilliseconds){var n=e.getUTCMilliseconds();H(n)&&(t+="."+String((n/1e3).toFixed(3)).slice(2,5))}return t+"Z"}(new Date)},$=function(e){return"[object Array]"===Object.prototype.toString.call(e)},J=function(e,t){$(e)&&e.push({timestamp:Q(),data:t})};function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function ee(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===X(t)?t:String(t)}const te=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.properties=t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=ee(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t):{}}var t,n;return t=e,(n=[{key:"clear",value:function(){this.properties={}}},{key:"get",value:function(e){if(this.properties.hasOwnProperty(e))return this.properties[e]}},{key:"set",value:function(e,t){this.properties[e]=t}},{key:"isSet",value:function(e){if(this.properties.hasOwnProperty(e))return!0}},{key:"delete",value:function(e){delete this.properties[e]}},{key:"getProperties",value:function(e){var t={},n=function(){return!1};return e||"function"!=typeof e||(n=e),p(this.properties,(function(e,r){n(e)||(t[e]=r)})),t}},{key:"merge",value:function(t){var n=this,r=t;r instanceof e&&(r=t.getProperties()),p(r,(function(e,t){n.set(e,t)}))}}])&&Z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var ne,re={},oe={"first-paint":"fp","first-contentful-paint":"fcp"},ie=["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","navigationStart","requestStart","responseEnd","responseStart","loadEventStart","loadEventEnd"],ae=["transferSize","encodedBodySize","decodedBodySize"],ce=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r],i=e[o];void 0!==i&&(n[o]=Math.round(i))}return n},ue=function(e){return ce(e,ie)},se=function(e){return ce(e,ae)},fe=function(e,t){var n=new te;"tcc"===e&&n.set("tccin",t||"na");try{(ne=_().performance)&&ne.timing?(function(e){if(e.merge(ue(ne.timing)),ne.getEntriesByName){var t=ne.getEntriesByName(w().location.href)[0];if(!t&&ne.getEntriesByType){var n=ne.getEntriesByType("navigation");t=n[n.length-1]}t&&(e.merge(se(t)),e.set("navigationType",t.type))}}(n),"tcc"===e&&(function(e){if(ne.getEntriesByType){var t=ne.getEntriesByType("mark");if($(t)){e.set("marks",t.slice(0,10).map((function(e){return{name:e.name,startTime:Math.round(e.startTime)}})));var n=ne.getEntriesByType("measure");$(n)&&e.set("measures",n.slice(0,10).map((function(e){return{name:e.name,duration:Math.round(e.duration)}})))}}}(n),function(e){if(ne.getEntriesByType){var t=ne.getEntriesByType("paint");t&&t.forEach((function(t){e.set(oe[t.name],Math.round(t.startTime))}))}}(n))):("tcc"===e&&n.set("tccperfapi","not supported"),q("Error loading performance lib"))}catch(e){q("_collect unable to get performance data",e)}return n.getProperties()},le=function(e,t,n){setTimeout((function(){_()._expDataLayer=_()._expDataLayer||[],_()._expDataLayer.push({schema:"add_perf",version:"v1",data:"tcc"===e?{type:"pageperf",properties:d(t,re,{nav_type:"hard"}),custom_properties:n}:{timing_object:d(t,re),is_hard_navigation:!0,custom_properties:n}})}),0)},pe=function(){return!(ne=_().performance)||!ne.timing||ne.timing.loadEventStart>0},de=!1,ye=function(e,t,n){if("manual"===t||!de)if(de=!0,pe())le(e,fe(e,t),n);else var r=setInterval((function(){pe()&&(clearInterval(r),le(e,fe(e,t),n))}),250)};function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===ve(o)?o:String(o)),r)}var o}var me,he=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._loaded=!1,this._onLoadFns=[],t?this._loaded=!0:n(this._triggerOnLoad.bind(this))}var t,n;return t=e,(n=[{key:"_executeFn",value:function(e){try{e()}catch(t){q("Exception while executing onLoad callback",e,t)}}},{key:"_triggerOnLoad",value:function(){this._loaded=!0;for(var e=0;e<this._onLoadFns.length;e++)this._executeFn(this._onLoadFns[e])}},{key:"registerOnLoadFn",value:function(e){(function(e){return e&&"[object Function]"==={}.toString.call(e)})(e)&&(this._loaded?this._executeFn(e):this._onLoadFns.push(e))}}])&&be(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ge=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=w().createElement("script");r.type="text/javascript",r.async=t,r.src=e,n&&r.addEventListener("load",n),(w().getElementsByTagName("head")[0]||w().getElementsByTagName("body")[0]).appendChild(r)},_e=_().Request,we=_e&&"keepalive"in new _e(""),Oe=void 0!==O().sendBeacon,je=function(e,t,n,r,o,i,a){var c,u=d({},i),s=r?JSON.stringify(r):null;if("POST"===n&&(u["Content-Type"]="application/json"),Oe&&!u.Authorization&&"POST"===n)try{var f=_().Blob;c=O().sendBeacon(e,new f([s],u))}catch(e){c=!1}c||function(e,t,n,r,o){var i=_().fetch;we&&i?i(e,{keepalive:!0,method:t,headers:r,body:n,credentials:o}).catch((function(e){})):function(e,t,n,r){var o=_().XMLHttpRequest;if(o){var i=new o;i.open(t,e,!0),p(r,(function(e,t){i.setRequestHeader(e,t)})),i.send(n)}}(e,t,n,r)}(e,n,s,u,a),function(e,t,n,r,o){var i={endpoint:t,queryParams:n,method:r,payload:o};J(M(e),i)}(o,e,t,n,r)},Se=function(e,t){var n=M("config")[e];if(n&&t)return n[t]},Pe=[{name:"EMAIL",regex:/[^@^=]+@[^@]+\.[^@^&]+/}],ke=function(e,t){if("string"!=typeof e)return e;for(var n=e,r=0;r<Pe.length;r++)for(var o=Pe[r].regex,i=n.match(o);i&&i[0];)i=(n=n.replace(i[0],"REDACTED")).match(o);return n},Ee=function(e){return""===(e=e||_().location.search)?[]:(G(e,"?")&&(e=e.substring(1)),e.split("&"))},xe=function(e,t,n){for(var r=Ee(n),o=r.length-1;o>=0;o--){var i=r[o].split("=");if(t){if((i[0]+"").toLowerCase()===(e+"").toLowerCase())return i[1]}else if(i[0]===e)return i[1]}},Ce=function(e){var t;G(e,"?")&&(t=e.substring(1));var n=b(t,"&","=");return n.utm_content&&(e+="&ga_content="+n.utm_content),e},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://".concat(e?e+".":"").concat(function(){if(me)return me;var e=S();if("secureserver.net"===(e=function(e){var t=e||S();return t.indexOf("godaddy.com")>=0||t.indexOf("secureserver.net")>=0}(e)?e:"secureserver.net")){var t=Se("build","env");e="prod"===t?e:"".concat(t,"-").concat(e)}return me=e}())};function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||Le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Ie(o)?o:String(o)),r)}var o}const qe=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventQueue=[],this._sendBatchCallback=t,this._maxEvents=r,this._bindUnload(),this._processInterval=setInterval((function(){n._sendBatch()}),250)}var t,n;return t=e,(n=[{key:"_bindUnload",value:function(){var e=this,t=this.flush.bind(this),n=_().attachEvent,r=_().addEventListener,o=w().addEventListener;r?(r("beforeunload",t,!1),r("pagehide",t,!1)):n&&n("beforeunload",t),o&&o("visibilitychange",function(){"hidden"===w().visibilityState&&e.flush()}.bind(this))}},{key:"_sendRequests",value:function(e){var t=this;Object.entries(e).forEach((function(e){var n=Re(e,2),r=n[0],o=n[1];try{var i=Re(r.split("|"),2),a=i[0],c={schemaId:i[1],data:[]};Object.values(o).forEach((function(e){if(e.events.length>10)for(var t=e.events.length/10,n=0;n<t;n++)c.data.push(d(e,{events:e.events.slice(10*n,10*n+10)}));else c.data.push(e)})),t._sendBatchCallback(c,a)}catch(e){q("Failed to send request: ".concat(e))}}))}},{key:"pushEvent",value:function(e,t){t||!we&&!Oe?this._sendBatch(e):this._eventQueue.push(e)}},{key:"_getRequestBatch",value:function(e,t,n){var r=n.apiKey,o=n.schemaId,i=n.global,a=n.contextVersion,c=n.businessContext,u="".concat(r,"|").concat(o),s=e[u]||{};e[u]=s;var f=0;c&&(t.push(c),f=t.length);var l="".concat(a,"|").concat(f);return{batch:s[l]||{global:i,businessContext:c,events:[]},batchKey:l,request:s}}},{key:"_processEvent",value:function(e,t,n){var r,o,i=this._getRequestBatch(e,t,n),a=i.batch,c=i.batchKey,u=i.request;return(r=a.events).push.apply(r,function(e){if(Array.isArray(e))return De(e)}(o=n.events.slice(0,this._maxEvents))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||Le(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n.events.length>this._maxEvents&&this.pushEvent(d(n,{events:n.events.slice(this._maxEvents)})),u[c]=a,Math.min(n.events.length,this._maxEvents)}},{key:"_sendBatch",value:function(e){var t=0,n={},r=[];for(e&&(t+=this._processEvent(n,r,e));this._eventQueue.length>0&&t<this._maxEvents;)t+=this._processEvent(n,r,this._eventQueue.shift());this._sendRequests(n)}},{key:"flush",value:function(){for(;this._eventQueue.length>0;)this._sendBatch()}}])&&Ae(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var Be,Fe="_eventBusSendLog",Me=function(e,t){je("".concat(Te("csp"),"/eventbus"),null,"POST",e,Fe,{Authorization:"api-key ".concat(t)})};function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Ne(o)?o:String(o)),r)}var o}function Ve(){return Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ke(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ve.apply(this,arguments)}function Ge(e,t){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ge(e,t)}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}var ze=function(e){try{return JSON.parse(e)}catch(e){return{}}};const We=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ke(r);if(o){var n=Ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._updateWindow(),t}return t=a,(n=[{key:"_updateWindow",value:function(){N("config",h(this.properties,!0))}},{key:"set",value:function(e,t){Ve(Ke(a.prototype),"set",this).call(this,e,t),this._updateWindow()}},{key:"merge",value:function(e){Ve(Ke(a.prototype),"merge",this).call(this,e),this._updateWindow()}}])&&Ue(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(te))({build:{env:"prod",date:"2024-03-22T13:05:20.511Z"},client:{name:"scc-gd-c1",version:"0.7.6"},cookie:{sameSite:"none"},site:{privateLabelId:""},sGtm:{enabled:K("true"),whitelist:ze('{"privateLabelId":1}'),account:"G-QJXPZE4TX8",host:""},ga:{account:"UA-115508484-1"},wGtm:{enabled:K("true"),whitelist:ze('{"privateLabelId":1}'),account:"GTM-5WB8X7D"},eventBus:{enabled:K("true"),sccApiKey:"b18ef4f046435b64a469b32c3c1c20a3",rigorApiKey:"8da2217409854bee82e12dc4ca0b39fb"},clickListener:{enabled:!0,navDelayMs:75},timing:{auto:!0},webVitals:{enabled:!0,url:"https://img1.wsimg.com/signals/js/clients/tti/tti.min.js"},consent:{delayMs:500}});var He,Qe,$e,Je=function(e,t){var n=We.get(e);if(n&&t)return n[t]},Xe=function(e,t,n){var r=We.get(e),o=r||{};r||We.set(e,o),o[t]=n};function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze,et,tt=[],nt={},rt=0,ot=function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(Ze);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.startsWith("".concat(r,".")))return!1}}catch(e){n.e(e)}finally{n.f()}return!0},it=function(e,t){"debug"===e&&L(t)},at=function(){var e,t,n=function(){for(var e={},t=0;t<Qe.length;t++){var n=Qe[t];p(n,(function(t,n){-1===et.indexOf(t.toLowerCase())&&(it(t,n),ot(t)||(e[t]=n))}))}return e}();t={identity:{realm:(e=n)["".concat(He,".realm")]},site:{privateLabelId:e["".concat(He,".privateLabelId")]},timing:{auto:!K(e["".concat(He,".manualPagePerf")],!1)},page:{spa:e["".concat(He,".spa")],id:e["".concat(He,".pageId")],contentGroup:e["".concat(He,".gaContentGroup")]||e["".concat(He,".contentGroup")],referrerExclusion:e["".concat(He,".referrerExclusion")]},cookie:{sameSite:e["".concat(He,".cookies.sameSite")]},wGtm:{enabled:K(e["".concat(He,".webGtmEnabled")],!1)},clickListener:{enabled:!K(e["".concat(He,".listenerDisabled")],!1),navDelayMs:e["".concat(He,".eventDelayMs")]}},Object.keys(t).forEach((function(e){Object.keys(t[e]).forEach((function(n){var r=t[e][n];void 0!==r&&Xe(e,n,r)}))})),We.merge(n),J(tt,n)},ct=function(){return d(nt)};const ut={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let st;const ft=new Uint8Array(16);function lt(){if(!st&&(st="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!st))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return st(ft)}const pt=[];for(let e=0;e<256;++e)pt.push((e+256).toString(16).slice(1));const dt=function(e,t,n){if(ut.randomUUID&&!t&&!e)return ut.randomUUID();const r=(e=e||{}).random||(e.rng||lt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return pt[e[t+0]]+pt[e[t+1]]+pt[e[t+2]]+pt[e[t+3]]+"-"+pt[e[t+4]]+pt[e[t+5]]+"-"+pt[e[t+6]]+pt[e[t+7]]+"-"+pt[e[t+8]]+pt[e[t+9]]+"-"+pt[e[t+10]]+pt[e[t+11]]+pt[e[t+12]]+pt[e[t+13]]+pt[e[t+14]]+pt[e[t+15]]}(r)};var yt=function(){return dt()};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==vt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===vt(o)?o:String(o)),r)}var o}var ht=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataLayerNames=t,this.dataLayerLog=[],this.asyncCommands=[],this.loaded=!1,this.dataLayers=[],this.dataLayerNames.forEach((function(e){var t,r,o=_()[e];$(o)&&(t=n.asyncCommands).push.apply(t,function(e){if(Array.isArray(e))return bt(e)}(r=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),U(e,n),n.dataLayers.push(o)}))}var t,n;return t=e,(n=[{key:"start",value:function(){this.loadAsyncCommands()}},{key:"pushLog",value:function(e){J(this.dataLayerLog,e)}},{key:"process",value:function(){}},{key:"push",value:function(e){this.loaded?this.process(e):this.asyncCommands.push(e)}},{key:"loadAsyncCommands",value:function(){for(;this.asyncCommands.length>0;)this.process(this.asyncCommands.shift());this.loaded=!0}}])&&mt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_t(o)?o:String(o)),r)}var o}function jt(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var St=function(){function e(t,n){if(wt(this,e),!t)throw"Missing version definitions";this._versionedDefinitions=t,this._interfaceType=n}return jt(e,[{key:"getInterface",value:function(e,t){var n=this._versionedDefinitions[t];if(n)return n}}]),e}(),Pt=function(){function e(t){if(wt(this,e),!t)throw"Missing type definitions";this._typeVersionDefinitionMap=t}return jt(e,[{key:"getInterface",value:function(e,t,n){var r=this._typeVersionDefinitionMap[n];if(r)return r.getInterface(e,t)}}]),e}(),kt={},Et=function(e){for(var t=function(){var e,t,o=(e=r[n],t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];if($(a)){var c={};a.forEach((function(e){var t={};Object.keys(e).forEach((function(n){"type"!==n&&(t[n]=e[n])})),c[e.type]=new St(t,e.type)})),kt[i]=new Pt(c)}else kt[i]=new St(a)},n=0,r=Object.entries(e);n<r.length;n++)t()},xt="string",Ct="OPTIONAL",Tt="REQUIRED",It="CALCULATED",Rt="map";function Lt(){return Lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Lt.apply(this,arguments)}function Dt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t)}function At(e,t){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},At(e,t)}function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bt(e);if(t){var o=Bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Bt(e){return Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bt(e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Ut(o)?o:String(o)),r)}var o}function Nt(e,t,n){return t&&Mt(e.prototype,t),n&&Mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}var Vt=function(e,t,n){var r;if(t._fieldType!==It){var o=e[t.name];"sub"===t._resolutionType&&(o=e),r=t.parse(o)}var i=Ut(t.transformFn);if("undefined"!==i){var a=$(t.transformFn);if("function"===i||a)for(var c=a?t.transformFn:[t.transformFn],u=0;u<c.length;u++)r=c[u](r,n);else r=t.transformFn}return t._outputType&&t._outputType===xt&&(r=r.toString()),r},Gt=function(){function e(t){Ft(this,e),this.name=t,this.properties=[],this.definitionType="",this._outputType,this._resolutionType=Rt,this._fieldType=Ct,this.outputKey,this.allowedValuesList=[]}return Nt(e,[{key:"parse",value:function(e){if(this.validate(e),this._fieldType!==Ct||e){for(var t=new te,n=0;n<this.properties.length;n++){var r=this.properties[n],o=Vt(e,r,t.getProperties());r._resolutionType===Rt?t.set(r.outputKey||r.name,o):t.merge(o)}return t.getProperties()}}},{key:"validate",value:function(e){if(this._fieldType===Tt&&!e)throw"Missing required property '".concat(this.name,"'");if(this.allowedValuesList.length>0&&!this.allowedValuesList.includes(e))throw"Input '".concat(e,"' for property '").concat(this.name,"' is not one of the allowed values (").concat(this.allowedValuesList,").")}},{key:"optional",value:function(){return this._fieldType=Ct,this}},{key:"required",value:function(){return this._fieldType=Tt,this}},{key:"load",value:function(){for(var e=0;e<this.properties.length;e++)this.properties[e].load()}},{key:"stringify",value:function(){for(var e=new te,t=0;t<this.properties.length;t++){var n=this.properties[t];e.merge(n.stringify())}return e.getProperties()}},{key:"clean",value:function(){for(var e=0;e<this.properties.length;e++)this.properties[e].clean();this.properties=[]}},{key:"transform",value:function(e){return this.transformFn=e,this}},{key:"transformKey",value:function(e){return this.outputKey=e,this}},{key:"allowedValues",value:function(e){return this.allowedValuesList=e,this}},{key:"outputType",value:function(e){return this._outputType=e,this}}]),e}(),Kt=function(e){Dt(n,e);var t=qt(n);function n(e,r){var o;return Ft(this,n),(o=t.call(this,e)).definitionType="Schema",o.properties=r,o}return Nt(n,[{key:"parse",value:function(e){var t;if(this.properties&&this.properties.length>0)try{this.load(),t=Lt(Bt(n.prototype),"parse",this).call(this,e||{}),this.clean()}catch(e){throw""}return Object.freeze(t)}}]),n}(Gt),zt=function(e){Dt(n,e);var t=qt(n);function n(e){return Ft(this,n),t.call(this,e)}return Nt(n,[{key:"parse",value:function(e){return this.validate(e),e}},{key:"stringify",value:function(){var e={};return e[this.name]=this._fieldType,e}}]),n}(Gt),Wt=function(e){Dt(n,e);var t=qt(n);function n(){var e;return Ft(this,n),(e=t.call(this)).objDefinitions=[],e.definitionType="Object",e}return Nt(n,[{key:"load",value:function(){this.properties=this.properties.concat(this.objDefinitions),this.extraDefinitions&&(this.properties=this.properties.concat(this.extraDefinitions)),Lt(Bt(n.prototype),"load",this).call(this)}},{key:"stringify",value:function(){if(this._resolutionType===Rt){var e={};return e["".concat(this.name," (").concat(this._fieldType,")")]=Lt(Bt(n.prototype),"stringify",this).call(this),e}return Lt(Bt(n.prototype),"stringify",this).call(this)}},{key:"substitute",value:function(e){return this.objDefinitions=e,this._resolutionType="sub",this}},{key:"map",value:function(e,t){return this.name=e,this.objDefinitions=t,this._resolutionType=Rt,this}},{key:"extend",value:function(e){return this.extraDefinitions=e,this}}]),n}(Gt),Ht=function(e){Dt(n,e);var t=qt(n);function n(){var e;return Ft(this,n),(e=t.call(this)).definitionType="Collection",e.minElements=0,e}return Nt(n,[{key:"parse",value:function(e){if(this.minElements&&(!e||e.length<this.minElements))throw"";if(void 0!==e){if(!$(e))throw"";return e.map(Lt(Bt(n.prototype),"parse",this).bind(this))}}},{key:"stringify",value:function(){if(this._resolutionType===Rt){var e={};e["".concat(this.minElements,"...n")]=Lt(Bt(n.prototype),"stringify",this).call(this)["".concat(this.name," (").concat(this._fieldType,")")];var t={};return t["".concat(this.name," (").concat(this._fieldType,")")]=e,t}return Lt(Bt(n.prototype),"stringify",this).call(this)}},{key:"withMinElements",value:function(e){return this.minElements=e,this._fieldType=e>0?Tt:Ct,this}}]),n}(Wt),Qt=function(e){Dt(n,e);var t=qt(n);function n(e){var r;return Ft(this,n),(r=t.call(this,e))._fieldType=It,r}return Nt(n)}(Gt),$t=function(e,t,n,r,o){var i=function(e,t,n){var r=kt[e];if(r)return r.getInterface(e,n,t)}(e,t,n),a=new Kt(e,i.properties).parse(r)||{},c=new i.handler(a,t,n,o);c.preProcess(a),c.process(a)};function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function Xt(e){return function(e){if(Array.isArray(e))return Yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Jt(o)?o:String(o)),r)}var o}function en(){return en="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},en.apply(this,arguments)}function tn(e,t){return tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tn(e,t)}function nn(e){return nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nn(e)}var rn=["_expDataLayer","_signalsDataLayer"],on=["add_virtual_page_view","set_config","subscribe"],an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tn(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nn(o);if(i){var n=nn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t,n=e.pageViewSchema,r=e.autoPageViewDisabled,o=e.beforeEvent,i=e.immediateSchemas,u=void 0===i?[]:i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,rn)).pageViewSchema=n,t.autoPageViewDisabled=r,t.beforeEvent=o,t.immediateSchemas=[on].concat(Xt(u)),t._initEvents(),t}return t=c,(r=[{key:"push",value:function(e){return this.immediateSchemas.includes(e.schema)?this.process(e):en(nn(c.prototype),"push",this).call(this,e)}},{key:"_initEvents",value:function(){for(var e=!this.autoPageViewDisabled,t=this.asyncCommands.length-1;t>=0;t--){var n=this.asyncCommands[t];n.schema!==this.pageViewSchema||n.data&&n.data.virtual_path||(e=!1),"set_config"===n.schema&&this.process.apply(this,Xt(this.asyncCommands.splice(t,1)))}e&&this.process({schema:this.pageViewSchema})}},{key:"process",value:function(e){en(nn(c.prototype),"pushLog",this).call(this,e);try{var t=e.data,r=e.schema||e.interface,o=e.type,i=e.version||"v1",a={eventId:yt()};this.beforeEvent&&this.beforeEvent(),function(){for(;rt<Qe.length;){var e=Qe[rt];p(e,(function(e,t){-1===et.indexOf(e.toLowerCase())&&ot(e)&&(it(e,t),nt[e]=t)})),rt++}}(),$t(r,o,i,t,a)}catch(t){var u=["Unable to process",e,"\n\n"];q.apply(n,u.concat(t))}}}])&&Zt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(ht);function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==cn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==cn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===cn(o)?o:String(o)),r)}var o}function sn(){return sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ln(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},sn.apply(this,arguments)}function fn(e,t){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fn(e,t)}function ln(e){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ln(e)}var pn=["_trfq"],dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fn(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ln(r);if(o){var n=ln(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,pn)).handlers=e,t.start(),t}return t=a,(n=[{key:"process",value:function(e){sn(ln(a.prototype),"pushLog",this).call(this,e);try{var t=Array.prototype.slice.call(e,1),n=e[0];this.handlers[n]?this.handlers[n].apply(null,t):q("Invalid command sent to data layer",this.dataLayerName,e)}catch(t){q("Unable to process",e,t)}}}])&&un(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ht);const yn=new te;var vn,bn,mn,hn,gn=function(e,t,n,r){var o=Se("cookie","sameSite")||"",i=new Date;i.setTime(i.getTime()+60*n*1e3),w().cookie="".concat(e,"=").concat(encodeURI(t),"; domain=").concat(S(),"; ")+(n?"expires=".concat(i.toGMTString(),"; "):"")+(r?"path=".concat(r,"; "):"")+(o?"SameSite=".concat(o,"; "):"")+("NONE"===o.toUpperCase()?" Secure;":"")},_n=function(e){var t=w().cookie;return bn!==t&&(mn=function(e){for(var t=e.split(";"),n=Object.create(null),r=0;r<t.length;r++){var o=/([^=]*)*=([\s\S]*)/.exec(t[r]);if(o&&o[2]){var i=o[1].trim(),a=decodeURIComponent(o[2].trim());n[i]=a}}return n}(t),bn=t),mn[e]},wn=function(e){var t=_n(e);return b(t,"&","=")},On=function(){var e,t=w().querySelector("meta[name='gd:traceId']");return t&&(e=t.getAttribute("content")),e&&!We.get("tcc.disablePageTracing")?{trace_id:e,traced:1}:{trace_id:yt().replace(/-/g,"")}},jn=[function(){return xe("isc",!0)},function(){return _n("isc")},function(){return ct().isc}];function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=Tn(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tn(r.key),r)}}function Tn(e){var t=function(e,t){if("object"!==Sn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Sn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sn(t)?t:String(t)}var In=function(){function e(t){var n=t.contextFnMap,r=t.paramsFnMap,o=void 0===r?{}:r,i=t.windowName;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._contextFnMap=n,this._paramsFnMap=o,this._windowName=i}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=e.context,n=void 0===t?{}:t,r=e.contextFnMap,o=void 0===r?{}:r,i=e.paramsFnMap,a=void 0===i?{}:i;this.version=0,this.context=n,this._initialContext=xn({},n),this._contextMap={},this._contextFnMap=d(this._contextFnMap,o),this._paramsFnMap=d(this._paramsFnMap,a)}},{key:"_buildContext",value:function(e){var t=xn({},this._initialContext);return Object.entries(e).forEach((function(e){var n,r=Pn(e,2),o=r[0],i=r[1],a=o.split("."),c=t;a.forEach((function(e,t){t<a.length-1?(c[e]=c[e]||{},c=c[e]):n=e})),c[n]=i})),t}},{key:"updateContext",value:function(){var e=this;if(this._contextFnMap){var t=!1,n={},r={};Object.entries(this._paramsFnMap).forEach((function(e){var t=Pn(e,2),n=t[0],o=t[1];try{r[n]=o()}catch(e){q("Error executing paramsFnMap for key: ".concat(n),e)}})),Object.entries(this._contextFnMap).forEach((function(o){var i=Pn(o,2),a=i[0],c=(0,i[1])(r);e._contextMap[a]!==c&&(t=!0),void 0!==c&&(n[a]=c)})),t&&(this.version++,this.context=h(this._buildContext(n)),this._contextMap=n,this._windowName&&N(this._windowName,this.context))}}}])&&Cn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Rn=new In({});function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dn={"godaddy.com":1,"mediatemple.net":4500,"afternic.com":497036},An=[function(){return Je("site","privateLabelId")},function(){return xe("plid")},function(){var e=S().replace("dev-","").replace("test-","").replace("stg-","");if(Dn.hasOwnProperty(e))return Dn[e]}],qn=function(){for(var e=0;e<An.length;e++){var t=An[e]();if(t&&H(t))return z(t)}};function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Bn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Bn(o)?o:String(o)),r)}var o}function Mn(){return Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Un(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Mn.apply(this,arguments)}function Nn(e,t){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nn(e,t)}function Un(e){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Un(e)}var Vn={"client.userAgent":function(){return O().userAgent},"client.sdk.name":function(){return Je("client","name")},"client.sdk.version":function(){return Je("client","version")},"client.device.viewportWidth":function(e){var t=e.win,n=e.doc;return z(t.innerWidth?t.innerWidth:n.body.offsetWidth)},"client.device.viewportHeight":function(e){var t=e.win,n=e.doc;return z(t.innerHeight?t.innerHeight:n.body.offsetHeight)},"client.device.screenResolutionWidth":function(e){var t=e.win;return z(t.screen.width)},"client.device.screenResolutionHeight":function(e){var t=e.win;return z(t.screen.height)},"page.id":function(){return Je("page","id")},"page.traceId":function(){return yn.get("trace_id")},"page.contentGroup":function(){return function(){var e=Je("page","contentGroup");if("string"!=typeof e)return e;for(var t=e.split("/"),n=t.length-1;n>=0;n--)t[n]=t[n].trim(),t[n]||t.splice(n,1);if(t.length>0)for(;t.length<3;)t.push("Other");return t.join(" / ")}()},"page.host":function(){return j()},"page.path":function(e){return e.win.location.pathname},"page.virtualPath":function(){return yn.get("virtual_path")},"page.location":function(){return n=(e=Ee()).length?(function(e){for(var t=0;t<e.length;t++){var n=e[t].split("="),r=!1,o=n[1];o!==decodeURIComponent(n[1])&&(o=decodeURIComponent(n[1]),r=!0);var i=ke(o);r&&(i=encodeURIComponent(i)),e[t]="".concat(n[0],"=").concat(i)}}(e),"?"+e.join("&")):"",(r=_().location)&&(t="".concat(r.protocol,"//").concat(r.hostname).concat(r.pathname)),n&&(t="".concat(t).concat(n)),t;var e,t,n,r},"page.referrer":function(e){return e.doc.referrer},"site.privateLabelId":function(){return qn()}},Gn={win:_,doc:w};const Kn=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nn(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Un(r);if(o){var n=Un(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"init",value:function(e){var t=e.traceId,n=e.contextFnMap,r=e.paramsFnMap;Mn(Un(a.prototype),"init",this).call(this,{context:{traceId:t},contextFnMap:n,paramsFnMap:r})}}])&&Fn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(In))({contextFnMap:Vn,paramsFnMap:Gn,windowName:"globalContext"});var zn=["events"];function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hn={},Qn=["routing","webContext"],$n=function(e,t,n){var r=t.callback;try{r(n)}catch(t){q("Failed to push datalayer event to subscriber (".concat(e,") callback"),t)}},Jn=function(e,t,n){var r=t.schemaIds,o=function(e,t){t.events;var n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,zn),r=e.fields||[];return Qn.forEach((function(e){r.includes(e)||delete n[e]})),n}(t,n);t.batch?(o.events=r?n.events.filter((function(e){return r.includes(e.schemaId)})):n.events,o.events.length>0&&$n(e,t,o)):n.events.forEach((function(n){r&&!r.includes(n.schemaId)||$n(e,t,d(o,{event:n}))}))},Xn=[];function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Yn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Yn(o)?o:String(o)),r)}var o}var er=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=t,this.interfaceType=n,this.interfaceVersion=r,this.internal=o}var t,n;return t=e,(n=[{key:"preProcess",value:function(e){}},{key:"process",value:function(e){}}])&&Zn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function tr(e){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(e)}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==tr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===tr(o)?o:String(o)),r)}var o}function rr(e,t){return rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rr(e,t)}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},or(e)}var ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=or(r);if(o){var n=or(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===tr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"process",value:function(e){this._pushToQueue(e)}},{key:"_pushToQueue",value:function(e){if(!this.internal.hasFired){var t=this._getEvents(e);if(t&&0!==t.length){for(var n=Q(),r=0;r<t.length;r++)t[r].data=d({eventCreationTimestamp:n},t[r].data);var o=this._getGlobalSchemaId(),i=this._getBusinessContext();Kn.updateContext(),Rn.updateContext(),a={schemaId:o,global:Kn.context,businessContext:i,events:t,webContext:d(Rn.context,this._getWebContext(e)),routing:{eventBusApiKey:this._getApiKey(),globalContextVersion:Kn.version,hasConversion:this._hasConversion()}},h(a),Xn.push(a),function(e){for(var t=0,n=Object.entries(Hn);t<n.length;t++){var r=(c=2,function(e){if(Array.isArray(e))return e}(a=n[t])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(a,c)||function(e,t){if(e){if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,t):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];try{Jn(o,i,e)}catch(e){q("Failed to push datalayer event batch to subscriber (".concat(o,")"),e)}}var a,c}(a),Xn.length>2e3&&Xn.shift(),this.internal.hasFired=!0}}var a}},{key:"_getSchemaId",value:function(){}},{key:"_getEvents",value:function(e){return[{schemaId:this._getSchemaId(),data:e}]}},{key:"_getGlobalSchemaId",value:function(){return qn()?"urn:shared:user:events:/v2":"urn:shared:user:events:/v1"}},{key:"_getBusinessContext",value:function(){}},{key:"_getApiKey",value:function(){return Je("eventBus","sccApiKey")}},{key:"_hasConversion",value:function(){}},{key:"_getWebContext",value:function(e){}}])&&nr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(er);function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ar(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===ar(o)?o:String(o)),r)}var o}function ur(e,t){return ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ur(e,t)}function sr(e){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sr(e)}const fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ur(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sr(r);if(o){var n=sr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_getBusinessContext",value:function(){return this.input.businessContext}},{key:"_getEvents",value:function(){return this.input.events}},{key:"_getApiKey",value:function(){return this.input.apiKey}},{key:"_getGlobalSchemaId",value:function(){return this.input.schemaId}}])&&cr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir);var lr="urn:shared:user:event:/data-platform/signals/click/v1",pr="urn:shared:user:event:/data-platform/signals/impression/v1",dr="urn:shared:user:event:/data-platform/signals/element-action/v1",yr="urn:shared:user:event:/data-platform/signals/traffic-event/v1",vr="urn:shared:user:event:/data-platform/signals/page-view/v1",br="urn:shared:user:event:/data-platform/signals/ecommerce/add-to-cart/v1",mr="urn:shared:user:event:/data-platform/signals/ecommerce/checkout-progress/v1",hr="urn:shared:user:event:/data-platform/signals/ecommerce/remove-from-cart/v1",gr="urn:shared:user:event:/data-platform/signals/ecommerce/transaction/v2",_r="urn:shared:user:event:/data-platform/signals/experiment-assignment/v1",wr="urn:shared:user:event:/rigor/page-navigation/v1",Or="urn:shared:user:event:/rigor/page-navigation-delayed/v1",jr="urn:shared:user:event:/data-platform/signals/conversion/v1",Sr=[br,mr,hr,gr],Pr=/[^a-z0-9\_\/\.\-]/g,kr=/^([a-z0-9_\-]+)\.([a-z0-9_\-]+)\.(([a-z0-9_\/\-]+)\.)?([a-z0-9_\/\-]+)\.([a-z0-9_\-]+)\.([a-z0-9_\-]+)$/g,Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eid,n=e.customProperties,r=e.eventCategory;return d({pageLevelProperties:ct(),identityRealm:Je("identity","realm")},t&&{eid:t},n&&{customProperties:n},r&&{eventCategory:r})},xr=function(e,t,n,r){var o={traffic:Er({eid:t,customProperties:r}),producerEventId:e};if(t){var i=function(e){return e.split(".")}(t),a=function(e){return e[e.length-1]}(i);(function(e){return!!(e.match(kr)&&e.length<=500)})(t)&&function(e,t,n){return t===n&&e.length>=5&&e.length<=6}(i,a,n)&&(o.element=function(e,t){var n=6===e.length?1:0,r={area:e[0],product:e[1],section:e[2+n],widget:e[3+n]};return["impression","click"].includes(t)||(r.action=t),r}(i,a))}return o},Cr=function(e,t,n,r){null!=r&&null!=n&&0!==r&&0!==n&&n>r&&(e[t]=Math.round(n-r))},Tr=function(e,t,n,r){var o=ue(t);!function(e,t){Cr(e,"pageLoadTime",t.loadEventStart,t.navigationStart),Cr(e,"domContentLoadedTime",t.domContentLoadedEventStart,t.navigationStart),Cr(e,"domInteractiveTime",t.domInteractive,t.navigationStart),Cr(e,"pageDownloadTime",t.responseEnd,t.responseStart),Cr(e,"domainLookupTime",t.domainLookupEnd,t.domainLookupStart),Cr(e,"serverResponseTime",t.responseStart,t.requestStart),Cr(e,"serverConnectionTime",t.connectEnd,t.connectStart),Cr(e,"redirectionTime",t.fetchStart,t.navigationStart)}(o,t);var i={navigationType:t.navigationType,timing:{navigation:o},traffic:Er({customProperties:n}),producerEventId:e,contentLoadType:r};return"hard"===r&&(i.response=se(t),i.timing.marks=t.marks,i.timing.measures=t.measures,i.timing.paint={firstPaint:t.fp,firstContentfulPaint:t.fcp,largestContentfulPaint:t.lcp}),i},Ir=function(e,t){return{timing:{paint:{largestContentfulPaint:t.LCP},vitals:{cumulativeLayoutShift:t.CLS,firstInputDelay:t.FID,timeToInteractive:t.timeToInteractive}},traffic:Er(),producerEventId:e}};function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Rr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Rr(o)?o:String(o)),r)}var o}function Dr(e,t){return Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dr(e,t)}function Ar(e){return Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ar(e)}const qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ar(r);if(o){var n=Ar(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,n=[{key:"_getSchemaId",value:function(){return dr}},{key:"_getActionType",value:function(e){return e.element.action}},{key:"_getEvents",value:function(e,t){var n=e.traffic||{};return n.eid=this._buildLegacyEid(this._getActionType(e),e.element,n.eid),[{schemaId:this._getSchemaId(),data:d(e,{producerEventId:t||this.internal.eventId,element:e.element,traffic:Er(n)})}]}},{key:"_buildLegacyEid",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(t.area,".").concat(t.product,".").concat(t.section,".").concat(t.widget,".").concat(e)}},{key:"_transformLegacyPromo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.eid,o=n.customProperties,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{id:i.id,name:i.name,creative_name:i.creative,creative_slot:i.position,type:e,properties:o,eid:this._buildLegacyEid(e,t,r)}}},{key:"_isPromo",value:function(e){return e.promotion&&Object.keys(e.promotion).length>0}}],n&&Lr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir);function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Br(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Br(o)?o:String(o)),r)}var o}function Mr(e,t){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mr(e,t)}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nr(e)}const Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nr(r);if(o){var n=Nr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_getSchemaId",value:function(){return lr}},{key:"_getActionType",value:function(){return"click"}}])&&Fr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(qr);function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Vr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Vr(o)?o:String(o)),r)}var o}function zr(){return zr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},zr.apply(this,arguments)}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wr(e,t)}function Hr(e){return Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(e)}const Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hr(r);if(o){var n=Hr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_getSchemaId",value:function(){return pr}},{key:"_getActionType",value:function(){return"impression"}},{key:"_getEvents",value:function(e){var t=this,n=[];return e.impressions.forEach((function(e){var r;n.push.apply(n,function(e){if(Array.isArray(e))return Gr(e)}(r=zr(Hr(a.prototype),"_getEvents",t).call(t,e,yt()))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})),n}}])&&Kr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(qr);function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==$r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==$r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===$r(o)?o:String(o)),r)}var o}function Xr(e,t){return Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xr(e,t)}function Yr(e){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yr(e)}var Zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yr(r);if(o){var n=Yr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"process",value:function(e){y(e.config),p(e.config,(function(t,n){if(!e.overwrite){var r=We.get(t);$(r)?n=[].concat(r,n):"object"===$r(r)&&(n=d(r,n))}We.set(t,n)}))}}])&&Jr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(er);function eo(e){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(e)}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==eo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===eo(o)?o:String(o)),r)}var o}function no(e,t){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},no(e,t)}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ro(e)}var oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&no(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ro(r);if(o){var n=ro(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===eo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"process",value:function(e){var t,n,r;t=e.name,n={callback:e.callback,schemaIds:e.schemaIds,batch:e.batch,fields:e.fields},(r=[].concat(Xn)).length>=2e3&&B("".concat(t," subscribed to SCC after the eventQueue was full. Some events may have been lost.")),r.forEach((function(e){return Jn(t,n,e)})),Hn[t]=n}}])&&to(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(er);function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==io(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===io(o)?o:String(o)),r)}var o}function co(){return co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=so(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},co.apply(this,arguments)}function uo(e,t){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uo(e,t)}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},so(e)}var fo,lo,po=function(e){var t={};if($(e))for(var n=0;n<e.length;n++){var r=e[n];$(r)&&(t[r[0]]=v(r))}return t},yo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=so(r);if(o){var n=so(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"setTDataString",value:function(e){co(so(a.prototype),"merge",this).call(this,function(e){return b(e,"^",",")}(e))}},{key:"stringify",value:function(){var e,t=y(this.getProperties());(e=t)&&p(e,(function(t,n){var r=(t+"").split(".").join("_");delete e[t],e[r]=n}));var n=m(t,"^",",");if(n)return n}},{key:"set",value:function(e,t){"object"!==io(t)&&"[object Function]"!=={}.toString.call(t)?co(so(a.prototype),"set",this).call(this,e,t):q("Invalid key/value pair found in Traffic's custom properties (tData). Objects, arrays, and functions are not supported.\n\nKey: '".concat(e,"' Value: '").concat(t,"' Type: '").concat(io(t),"'."))}}])&&ao(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(te),vo=function(e){var t=new yo;return t.merge(e.custom_properties),e.traffic&&t.merge(e.traffic.customProperties),t},bo=function(e,t){var n=e.eid||t&&t();if(!n)throw"";if(e.eid=n.toLowerCase(),function(e){return e.match(Pr)}(e.eid))throw e.eid,"";return e},mo=function(e){var t=e.traffic;return t&&bo(t),e},ho=function(){return Math.floor(2147483647*Math.random())};function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==go(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===go(o)?o:String(o)),r)}var o}function wo(e,t){return wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wo(e,t)}function Oo(e){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oo(e)}var jo=0,So=function(){var e=We.get("components");if(lo!==e)return lo=e},Po=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Oo(r);if(o){var n=Oo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_getWebContext",value:function(){return{pageViewCount:jo}}},{key:"_getEvents",value:function(e){var t=vo(e);return[{schemaId:vr,data:{forensics:{traceIdAdopted:K(yn.get("traced")),components:So()},traffic:Er({customProperties:t.getProperties()}),producerEventId:this.internal.eventId}}]}},{key:"preProcess",value:function(e){var t=e.path||e.virtual_path||e.virtualPath,n=void 0!==t;if(n||(t=_().location.pathname),fo===t)throw"cmd: LogPageRequest duplicate page request detected, ignoring duplicate path";fo=t,yn.set("corrid",ho()),n&&(at(),yn.set("virtual_path",t)),vn.incrementPageCount(),jo+=1,yn.get("trace_id")||yn.merge(On())}}])&&_o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir),ko=function(e){return[(new Wt).map("element",[new zt("area").required(),new zt("product").required(),new zt("section").required(),new zt("widget").required()]).required().extend(e)]},Eo=function(e){return[(new Wt).map("traffic",[new zt("customProperties")]).extend(e)]},xo=function(){return[(new Wt).substitute(Eo([new zt("eid")]))]},Co=function(){return[(new Wt).substitute(ko()),(new Wt).substitute(xo()),(new Wt).map("promotion",[new zt("id").required(),new zt("name"),new zt("creative"),new zt("position")]),(new Wt).map("product",[new zt("actionCode").required().allowedValues(["add_to_cart","product_detail"]),(new Wt).map("basket",[new zt("couponCode"),new zt("currencyCode"),new zt("itemTrackingCode")]),(new Ht).map("products",[new zt("productId").required(),new zt("productName"),new zt("productInstanceId"),new zt("priceUsd"),new zt("quantity").required(),new zt("couponCode"),new zt("itemTrackingCode")]),(new Ht).map("packages",[new zt("id"),new zt("priceUsd"),new zt("quantity"),new zt("category")])])]};const To={add_click:{v1:{handler:Ur,properties:[(new Wt).substitute(Co()).transform(mo)]}},add_element_action:{v1:{handler:qr,properties:[(new Wt).substitute([(new Wt).substitute(ko([new zt("action").required().allowedValues(["blur","drag","focus","hover","load","scroll"])])),(new Wt).substitute(xo())]).transform(mo)]}},add_impressions:{v1:{handler:Qr,properties:[(new Ht).map("impressions",[(new Wt).substitute(Co()).transform(mo)]).withMinElements(1)]}},add_virtual_page_view:{v1:{handler:Po,properties:[new zt("virtualPath").required(),(new Wt).substitute(Eo())]}},add_micro_events:{v1:{handler:fr,properties:[new zt("apiKey").required(),new zt("schemaId").required(),(new Ht).map("events",[new zt("schemaId").required(),new zt("data").required()]).withMinElements(1),(new Wt).map("businessContext",[new zt("schemaId").required(),new zt("data").required()])]}},subscribe:{v1:{handler:oo,properties:[new zt("name").required(),new zt("callback").required(),new zt("schemaIds"),new zt("fields"),new zt("batch")]}},set_config:{v1:{handler:Zr,properties:[(new Wt).map("config",[(new Ht).map("components",[new zt("name").required(),new zt("version").required().outputType(xt)]),(new Wt).map("cookie",[new zt("sameSite")]),(new Wt).map("page",[new zt("spa"),new zt("id"),new zt("contentGroup"),new zt("referrerExclusion")]),(new Wt).map("identity",[new zt("realm")]),(new Wt).map("site",[new zt("privateLabelId")]),(new Wt).map("timing",[new zt("auto")])]).required(),new zt("overwrite")]}}};function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!==Io(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Io(t)?t:String(t)}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Do=!1,Ao=function(e){var t=e.trfqMethods,n=e.legacyName,r=e.dataLayerConfig,o=e.globalContextConfig,i=e.hooks,a=i.onLoad,c=i.beforeLoad,u=i.beforeEvent,s=i.getEnvironment;if(!Do){Do=!0,Xe("build","env",s&&s()||Je("build","env")),yn.merge(On()),Kn.init(Lo({traceId:yn.get("trace_id")},o)),Et(To),function(){var e=_();if(e.PerformanceObserver){var t=new e.PerformanceObserver((function(e){var t=e.getEntries(),n=t[t.length-1];n.renderTime&&(re.lcp=Math.round(n.startTime))}));try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}}}();var f=new he("complete"===w().readyState,(function(e){_().addEventListener("load",e)}));vn.getSession(),c&&c();var l=new an(Lo({autoPageViewDisabled:We.get("".concat(n,".manualPageRequest")),beforeEvent:u},r));f.registerOnLoadFn((function(){a&&a(),l.start(),new dn(t),Je("timing","auto")&&ye(n,"auto"),Je("eventBus","enabled")&&(N(Fe,[]),Be=new qe(Me),_()._signalsDataLayer=_()._signalsDataLayer||[],_()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-event-bus",batch:!0,fields:["routing"],callback:function(e){var t=e.schemaId,n=e.global,r=e.businessContext,o=e.events,i=e.routing,a=i.eventBusApiKey,c=i.hasConversion,u=i.globalContextVersion;Be.pushEvent({apiKey:a,businessContext:r,contextVersion:u,schemaId:t,global:n,events:o},c)}}}))})),A("SCC STARTED",We.getProperties())}};function qo(e){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fo(r.key),r)}}function Fo(e){var t=function(e,t){if("object"!==qo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qo(t)?t:String(t)}function Mo(e){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(e)}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ko(r.key),r)}}function Uo(e,t){return Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uo(e,t)}function Vo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Go(e)}function Ko(e){var t=function(e,t){if("object"!==Mo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mo(t)?t:String(t)}var zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Go(r);if(o){var n=Go(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vo(e)}(this,e)});function a(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return t=Vo(e=i.call.apply(i,[this].concat(c))),r="fb_sessiontraffic",(n=Ko(n="_sessionCookieName"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=a,(n=[{key:"getSession",value:function(){var e=function(e,t){var n=wn("visitor");if(n.hasOwnProperty("vid"))return n.vid}(),t=wn(this._sessionCookieName),n=t.pathway,r=z(t.pc)||0;if(void 0===n){n=yt(),r=0;var o=Q(),i={C_TOUCH:o,pathway:n,V_DATE:o,pc:r};gn("pathway",n,20,"/"),this.saveSessionCookie(i)}if(void 0===e){var a="vid=".concat(e=n);gn("visitor",a,525600,"/")}return{visitorGuid:e,visitGuid:n,pageCount:r}}}])&&No(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=Fo(n="_sessionCookieName"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n;return t=e,(n=[{key:"getSession",value:function(){}},{key:"saveSessionCookie",value:function(e){var t=m(e,"&","=");gn(this._sessionCookieName,t,20,"/")}},{key:"incrementPageCount",value:function(){var e=wn(this._sessionCookieName),t=z(e.pc)||0;e.pc=t+1,e.C_TOUCH=Q(),this.saveSessionCookie(e)}}])&&Bo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Wo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Wo(o)?o:String(o)),r)}var o}function Qo(e,t){return Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qo(e,t)}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$o(e)}var Jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$o(r);if(o){var n=$o(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"process",value:function(e){ye("tcc","manual",e.custom_properties)}}])&&Ho(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(er),Xo="traffic.tcc.instrumentation.navigation.timing";function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Yo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Yo(o)?o:String(o)),r)}var o}function ei(e,t){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ei(e,t)}function ti(e){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ti(e)}var ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ei(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ti(r);if(o){var n=ti(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_getApiKey",value:function(){return Je("eventBus","rigorApiKey")}},{key:"_getWebContext",value:function(e){var t=e.properties;if(t)return{virtualPath:t.virtual_path,page:t.page}}},{key:"_getEvents",value:function(e){var t=e.properties;if(t){if(t.navigationStart)return[{schemaId:wr,data:Tr(this.internal.eventId,t,e.custom_properties,t.nav_type)}];if(t.timeToInteractive)return[{schemaId:Or,data:Ir(this.internal.eventId,t)}]}if(e.custom_properties)return[{schemaId:yr,data:{traffic:Er({customProperties:e.custom_properties,eid:Xo,eventCategory:e.type}),producerEventId:this.internal.eventId}}]}}])&&Zo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir);function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ri(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===ri(o)?o:String(o)),r)}var o}function ii(e,t){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ii(e,t)}function ai(e){return ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ai(e)}const ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ii(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ai(r);if(o){var n=ai(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_getWebContext",value:function(e){return{eventLabel:e.event_label||this.customProperties.getProperties().event_label,tms:e.tms,href:e.href,tcode:e.tcode,ci:e.ci}}},{key:"preProcess",value:function(e){this.customProperties=vo(e),this.customProperties.merge(e.properties)}},{key:"_getEvents",value:function(e){var t=e.eid,n=e.type.toLowerCase(),r=function(e){return"click"===e?lr:"impression"===e?pr:["blur","drag","focus","hover","load","scroll"].includes(e)?dr:yr}(n),o=this.customProperties.getProperties();return[{schemaId:r,data:r!==yr?xr(this.internal.eventId,t,n,o):{traffic:Er({customProperties:o,eid:t,eventCategory:n}),producerEventId:this.internal.eventId}}]}}])&&oi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir),ui=new te,si=new te;function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==fi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===fi(o)?o:String(o)),r)}var o}function pi(e,t){return pi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pi(e,t)}function di(e){return di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},di(e)}var yi=["ineligible","inelligible"],vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pi(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=di(r);if(o){var n=di(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_getWebContext",value:function(e){return{experimentType:this.interfaceType||e.experiment_type,contentId:e.content_id}}},{key:"_getEvents",value:function(e){for(var t=0,n=yi;t<n.length;t++){var r=n[t];if(e.variant_id.toLowerCase().includes(r))return}return si.set(e.experiment_id,e.variant_id),ui.set("experiments",si.getProperties()),[{schemaId:_r,data:{experimentId:e.experiment_id,experimentSource:e.experiment_source,variantId:e.variant_id,traffic:Er({customProperties:e.custom_properties}),producerEventId:this.internal.eventId}}]}}])&&li(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir);function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===bi(o)?o:String(o)),r)}var o}function hi(e,t){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hi(e,t)}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gi(e)}const _i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gi(r);if(o){var n=gi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_addCspEvent",value:function(e,t,n,r,o){var i=o.id,a=o.eid,c=o.name,u=o.creative_name,s=o.creative_slot,f=o.dom_element,l=o.dom_event;a=a||I(f,l).e_id;var p=xr(e,a,n,r);t.push({schemaId:"urn:shared:user:event:/data-platform/signals/".concat(n,"/v1"),data:d(p,{promotion:{id:i,name:c,creative:u,position:s}})})}},{key:"_getEvents",value:function(e){var t=this,n=[],r=this.interfaceType,o=vo(e).getProperties();return e.hasOwnProperty("promotions")?e.promotions.map((function(e){t._addCspEvent(yt(),n,r,o,e)})):this._addCspEvent(this.internal.eventId,n,r,o,e),n}}])&&mi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir);function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==wi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===wi(o)?o:String(o)),r)}var o}function ji(e,t){return ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ji(e,t)}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}var Pi=!1,ki=["cartEditProduct","cartEditProductIdBefore","cartEditProductIdAfter","cartEditQtyBefore","cartEditQtyAfter","cart_payment_reason_response_code","cart_payment_billing_country","cart_payment_error_code"],Ei=function(e){return{editFlag:K(e.cartEditProduct),beforePfid:e.cartEditProductIdBefore,afterPfid:e.cartEditProductIdAfter,beforeQuantity:z(e.cartEditQtyBefore),afterQuantity:z(e.cartEditQtyAfter)}},xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ji(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Si(r);if(o){var n=Si(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,n=[{key:"preProcess",value:function(){if("purchase"===this.interfaceType){if(Pi)throw"cmd: LogEcommEvent duplicate purchase event detected, ignoring duplicate";Pi=!0}}},{key:"_hasConversion",value:function(){return"purchase"===this.interfaceType}},{key:"_getWebContext",value:function(e){var t=this,n=[];e.items&&e.items.forEach((function(e){var r={fullProductName:e.full_product_name,productCategoryId:e.product_category_id,category:e.category,brand:e.brand,variant:e.variant};"purchase"===t.interfaceType&&(r.cjProductId=e.cj_product_id,r.cjProductPriceUsd=W(e.cj_product_price_usd),r.cjProductQuantity=z(e.cj_product_quantity),r.originalCurrencySubtotal=W(e.original_currency_subtotal)),n.push(r)}));var r={products:n};return"purchase"===this.interfaceType?(r.orderRegion=e.order_region,r.pageType=e.page_type,r.hashedEmail=e.hashed_email,r.originalCurrency=e.original_currency):(r.eventLabel=e.eid_label||e.el,"add_to_cart"!==this.interfaceType&&"remove_from_cart"!==this.interfaceType||(r.valueUsd=W(e.value))),r}},{key:"_getEvents",value:function(e){var t=vo(e),n=[];e.items&&e.items.forEach((function(e){n.push({productId:e.id,priceUsd:W(e.price),productName:e.name,quantity:z(e.quantity),couponCode:e.coupon,itemTrackingCode:e.item_tracking_code})}));var r=[];e.pkgs&&e.pkgs.forEach((function(e){r.push({id:e.pkgid,priceUsd:W(e.pkgpr),quantity:z(e.pkgqt),category:e.pkgca})}));var o={currencyCode:e.currency},i={type:e.cart_type},a=t.getProperties(),c=d(a);ki.forEach((function(e){delete c[e]}));var u=Er({customProperties:c}),s=this.internal.eventId;switch(this.interfaceType){case"add_to_cart":return[{schemaId:br,data:{cart:d(i,Ei(a)),basket:o,packages:r,products:n,traffic:u,producerEventId:s}}];case"begin_checkout":case"checkout_progress":return[{schemaId:mr,data:{cart:i,basket:d(o,{couponCode:e.coupon}),checkout:{option:e.checkout_option,step:z(e.checkout_step)},payment:{processor:e.payment_processor,reasonResponseCode:a.cart_payment_reason_response_code,billingCountry:a.cart_payment_billing_country,errorCode:a.cart_payment_error_code},products:n,traffic:u,producerEventId:s}}];case"remove_from_cart":return[{schemaId:hr,data:{cart:d(i,Ei(a)),basket:o,packages:r,products:n,traffic:u,producerEventId:s}}];case"purchase":return[{schemaId:gr,data:{cart:d(i,{activationRedirectFlag:K(e.activation_redirect)}),basket:d(o,{couponCode:e.coupon}),order:{discountUsd:W(e.order_discount_usd),fromWebsiteFlag:K(e.order_from_website),totalNewUsd:W(e.order_total_new_usd),totalRenewalUsd:W(e.order_total_renewal_usd),valueUsd:W(e.value),firstOrderFlag:K(e.first_order),newCustomerFlag:K(e.new_customer),newVsRenewal:e.new_vs_renewal,transactionId:e.transaction_id},payment:{processor:e.payment_processor,pendingFlag:K(e.payment_pending)},products:n,traffic:u,producerEventId:s}}]}}}],n&&Oi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir);function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Ci(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ci(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Ci(o)?o:String(o)),r)}var o}function Ii(e,t){return Ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ii(e,t)}function Ri(e){return Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ri(e)}var Li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ii(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ri(r);if(o){var n=Ri(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"process",value:function(e){var t="v1"===this.interfaceVersion?"v1":"v2";$t("add_event",void 0,t,d(e,{type:"impression"}),this.internal)}}])&&Ti(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(er);function Di(e){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Di(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Di(o)?o:String(o)),r)}var o}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}function Bi(e){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bi(e)}var Fi,Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bi(r);if(o){var n=Bi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Di(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"process",value:function(e){var t=e.timing_metrics,n=e.virtual_path;"v2"===this.interfaceVersion&&(t=e.timing.navigation),$t("add_perf",void 0,"v1",{type:"pageperf",properties:d(t,{nav_type:"soft",navigationType:e.type,page:n,virtual_path:n}),custom_properties:e.custom_properties},this.internal);var r=_();e.perf_mark_name&&r.performance&&r.performance.mark&&r.performance.mark(e.perf_mark_name)}}])&&Ai(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(er),Ni=function(){var e=_n("_ga");if(e){var t=e.split(".");if(4===t.length)return"".concat(t[2],".").concat(t[3]);if(3===t.length)return"".concat(t[1],".").concat(t[2]);q("GA cookie malformed: ".concat(e))}};function Ui(e){if(Fi)return Fi;e&&e.startsWith("G-")&&(e=e.replace("G-",""));var t=_n("_ga_".concat(e));if(t){var n=t.split(".");if(n.length>3)return Fi={gaSessionId:n[2],gaSessionNumber:parseInt(n[3],10)}}}function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Vi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Vi(o)?o:String(o)),r)}var o}function Ki(e,t){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ki(e,t)}function zi(e){return zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zi(e)}var Wi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ki(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zi(r);if(o){var n=zi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"process",value:function(e){var t={},n=(new zo).getSession();t.vg=n.visitGuid,t.vtg=n.visitorGuid,t.corrid=yn.get("corrid"),t.experiments=si.getProperties(),t.gauid=Ni(),t.traceid=yn.get("trace_id"),"function"==typeof e.callback&&e.callback(t)}}])&&Gi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(er);function Hi(e){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(e)}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Hi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Hi(o)?o:String(o)),r)}var o}function $i(e,t){return $i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$i(e,t)}function Ji(e){return Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ji(e)}var Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$i(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ji(r);if(o){var n=Ji(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_getEvents",value:function(e){var t=e.properties||{};return[{schemaId:jr,data:{virtualOrderId:t.virtual_order_id,packageId:t.package_id,packageCategory:t.package_category,conversion:{area:e.area,revenue:e.revenue,product:e.product,action:e.action},traffic:Er({customProperties:e.custom_properties}),producerEventId:this.internal.eventId}}]}},{key:"_hasConversion",value:function(){return!0}}])&&Qi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ir);function Yi(e){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(e)}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Yi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Yi(o)?o:String(o)),r)}var o}function ea(e,t){return ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ea(e,t)}function ta(e){return ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ta(e)}var na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ea(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ta(r);if(o){var n=ta(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,n=[{key:"process",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.callback("control")}))}],n&&Zi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(er),ra=function(e){return e.length>10?e.substr(0,10):e},oa=function(e){return bo(e,(function(){return I(e.dom_element,e.dom_event).e_id}))},ia=function(){return[new zt("custom_properties")]},aa=function(){return[new zt("experiment_id").required(),new zt("variant_id").required(),new zt("content_id"),new zt("experiment_source"),(new Wt).substitute(ia())]},ca=function(){return[new zt("eid").required(),new zt("href"),new zt("tcode"),new zt("tms"),new zt("ci"),new zt("properties")]},ua=function(){return[new zt("dom_element"),new zt("dom_event"),new zt("eid"),new zt("properties")]},sa=function(e){return[new zt("id").required(),new zt("name").optional(),new zt("creative_name").optional(),new zt("creative_slot").optional(),(new Wt).substitute(e)]},fa=function(){return new zt("cart_type").optional()},la=function(e){return[fa(),new zt("currency"),new zt("coupon"),(new Ht).map("items",[new zt("id").required(),new zt("quantity").required(),new zt("name"),new zt("brand"),new zt("variant"),new zt("coupon"),new zt("price")]).extend([new zt("full_product_name"),new zt("cj_product_id"),new zt("cj_product_price_usd"),new zt("cj_product_quantity"),new zt("item_tracking_code"),new zt("product_category_id"),new zt("category")].concat(e)).withMinElements(1)]},pa=function(){return[(new Wt).substitute(la([new zt("price").optional()])).extend([new zt("checkout_step").required(),new zt("checkout_option").optional(),new zt("eid_label").optional()])]},da=function(){return[new zt("el"),new zt("currency"),new zt("value"),(new Wt).substitute([(new Ht).map("items",[new zt("id").required(),new zt("qt").required().transformKey("quantity"),new zt("ca").transformKey("category"),new zt("br").transformKey("brand"),new zt("va").transformKey("variant"),new zt("cc").transformKey("coupon"),new zt("pr").transformKey("price")]).extend([new zt("name"),new zt("itc").transformKey("item_tracking_code")]).withMinElements(1)]),(new Wt).substitute([(new Ht).map("pkgs",[new zt("pkgid"),new zt("pkgpr"),new zt("pkgca"),new zt("pkgqt")])]),(new Wt).substitute(ia()),fa()]},ya=function(){return[new zt("experiment_id").required(),new zt("callback").required(),new zt("attributes"),(new Wt).substitute(ia())]},va=function(){return{handler:vi,properties:[(new Wt).substitute(aa())]}},ba=function(e){return{handler:_i,properties:[(new Wt).substitute(sa(e)),(new Wt).substitute(ia())]}},ma=function(e){return{handler:_i,properties:[(new Ht).map("impressions",sa(e)).transformKey("promotions").withMinElements(1),(new Wt).substitute(ia())]}},ha=function(e){return{handler:ci,properties:[new zt("type").required().transform(ra),(new Wt).substitute(e).transform(oa),new zt("event_label"),(new Wt).substitute(ia())]}},ga=function(e){return{handler:Li,properties:[(new Wt).substitute(e).transform(oa),(new Wt).substitute(ia())]}},_a=function(){return[new zt("navigationStart").required(),new zt("fetchStart"),new zt("domainLookupStart"),new zt("domainLookupEnd"),new zt("connectStart"),new zt("connectEnd"),new zt("requestStart"),new zt("responseStart"),new zt("responseEnd"),new zt("domLoading"),new zt("domInteractive"),new zt("domContentLoaded"),new zt("domComplete"),new zt("loadEventStart").required(),new zt("loadEventEnd")]};const wa={get_tracking_values:{v1:{handler:Wi,properties:[new zt("callback").required()]}},add_event:{v1:ha(ua()),v2:ha(ca())},add_impression:{v1:ga(ua()),v2:ga(ca())},add_generic_conversion:{v1:{handler:Xi,properties:[(new Wt).substitute([(new Wt).map("properties",[new zt("virtual_order_id").optional(),new zt("app_name").optional(),new zt("package_id").optional(),new zt("package_category").optional()]),new zt("area").required(),new zt("product").required(),new zt("revenue").required(),new zt("action").required()]),(new Wt).substitute(ia())]}},add_page_request:{v1:{handler:Po,properties:[new zt("virtual_path"),(new Wt).substitute(ia())]}},add_virtual_page_perf:{v1:{handler:Mi,properties:[new zt("virtual_path").required(),(new Wt).map("timing_metrics",_a()).required(),new zt("perf_mark_name"),(new Wt).substitute(ia())]},v2:{handler:Mi,properties:[new zt("type").required(),(new Wt).map("timing",[(new Wt).map("navigation",_a()).required()]).required()]}},add_page_perf:{v1:{handler:Jo,properties:[(new Wt).substitute(ia())]}},add_perf:{v1:{handler:ni,properties:[new zt("type").required().transform(ra),new zt("properties"),(new Wt).substitute(ia())]}},get_variant_for_experiment:{v1:{handler:na,properties:ya()},v2:{handler:na,properties:[(new Wt).substitute(ya()).extend([new zt("traffic_type").required(),new zt("configuration")])]}},add_experiment:{v1:{handler:vi,properties:[(new Wt).substitute(aa()).extend([new zt("experiment_type")])]}},add_experiment_assignment:[{type:"abn",v1:va()},{type:"mvt",v1:va()}],add_promotion:[{type:"click",v1:ba(ua()),v2:ba(ca())},{type:"impression",v1:ma(ua()),v2:ma(ca())}],add_ecomm_event:[{type:"add_to_cart",v1:{handler:xi,properties:[(new Wt).substitute(da())]}},{type:"remove_from_cart",v1:{handler:xi,properties:[(new Wt).substitute(da())]}},{type:"begin_checkout",v1:{handler:xi,properties:[(new Wt).substitute(pa()),(new Wt).substitute(ia())]}},{type:"checkout_progress",v1:{handler:xi,properties:[(new Wt).substitute(pa()).extend([new zt("payment_processor"),(new Wt).substitute(ia())])]}},{type:"purchase",v1:{handler:xi,properties:[(new Wt).substitute([new zt("transaction_id").required(),new zt("activation_redirect"),new zt("first_order"),new zt("hashed_email"),new zt("new_customer"),new zt("order_discount_usd"),new zt("order_total_new_usd"),new zt("order_total_renewal_usd"),new zt("order_from_website"),new zt("page_type"),new zt("order_region"),new zt("original_currency"),new zt("payment_pending"),new zt("payment_processor"),(new Wt).substitute(la([new zt("price").required(),new zt("original_currency_subtotal")])).extend([new zt("currency").required(),new zt("value").required()])]).extend([new Qt("new_vs_renewal").transform((function(e,t){var n;if(!isNaN(parseFloat(t.order_total_new_usd))&&!isNaN(parseFloat(t.order_total_renewal_usd)))return p({"new-and-renewal-products":parseFloat(t.order_total_new_usd)>0&&parseFloat(t.order_total_renewal_usd)>0,"new-product-only":parseFloat(t.order_total_new_usd)>0&&0===parseFloat(t.order_total_renewal_usd),"renewal-product-only":0===parseFloat(t.order_total_new_usd)&&parseFloat(t.order_total_renewal_usd)>0,"unknown-products":0===parseFloat(t.order_total_new_usd)&&0===parseFloat(t.order_total_renewal_usd)},(function(e,t){!0===t&&(n=e)})),n}))]),(new Wt).substitute(ia())]}}]};var Oa=function(e){_()._expDataLayer.push({schema:"add_page_request",version:"v1",data:{virtual_path:e}})},ja=function(e,t,n,r,o){_()._expDataLayer.push({schema:"add_event",version:"v1",data:{type:e,eid:t,custom_properties:po(n),dom_element:r,dom_event:o}})},Sa=function(e,t){_()._expDataLayer.push({schema:"add_perf",version:"v1",data:{type:e,properties:t}})},Pa=function(e){_()._expDataLayer.push({schema:"get_tracking_values",version:"v1",data:{callback:e}})},ka=function(){_()._expDataLayer.push({schema:"add_page_perf",version:"v1"})},Ea=function(e,t,n){_()._expDataLayer.push({schema:"add_impression",version:"v1",data:{eid:e,properties:po(t),dom_element:n}})},xa=[/\blocation\.href\b/i,/\bwindow\.location\b/i,/\batlPCGoToUrl\b/i,/\bpcj_lnkx\b/i,/\bpcj_win\b/i],Ca=/^(#|(javascript|mailto|file|ftp):)/i,Ta=/^(https?:)?\/\//,Ia=function(e){return P((function(e){if(e.onclick)return e}),e)},Ra=function(e){if(e){var t=e.target||e.srcElement||e.currentTarget;return t&&t.nodeType&&3===t.nodeType&&(t=t.parentNode),t}},La=function(e){var t=T(e,{data:"data-track-click"});if(t.data)return JSON.parse(t.data)},Da=function(e,t){return I(e,t)},Aa=function(e){return T(e,{schema:"data-schema",id:"data-promo-id",name:"data-promo-name",creative_name:"data-creative-name",creative_slot:"data-creative-slot"})},qa=function(e){if(e||(e=_().event),e){var t=Ra(e);if(!t)return!0;var n=La(t),r="e_id"in Da(t,e),o="add_promotion"===Aa(t).schema;if(!n&&!r&&!o)return!0;!function(e){if(e){var t=Ia(e);if(t&&t.onclick){var n=t.onclick,r=n.toString(),o=!1;if(r)for(var i=0;i<xa.length&&!(o=xa[i].test(r));i++);o&&(t.onclick=function(e,t){t&&t.run&&n()},e.interceptOnClick=!0,t.interceptOnClick=!0)}}}(t)}},Ba=function(e){e&&(e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault&&e.preventDefault())},Fa=function(e,t){var n=function(e){return P((function(e){var t=x(e,"href");if(C(e)&&t&&t.length>0){var n=x(e,"target");if(n&&"_self"!==n)return;if(!function(e){return e&&(Ca.test(e)||function(e){if(Ta.test(e))return!1;var t=Se("page","spa");return!!t&&new RegExp("^"+(!0===t?"/":t).replace("/","\\/")).test(e)}(e))}(t))return t}}),e)}(e);return!!n&&(Ba(t),t.metaKey||t.ctrlKey?_().open(n):setTimeout((function(){w().location.href=n}),Se("clickListener","navDelayMs")),!0)},Ma=function(e){try{if(e||(e=_().event),!e)return!0;var t=Ra(e);if(!t)return!0;if(!function(e,t){var n,r,o,i=La(e),a=Da(e,t),c=Aa(e),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(Na()>=17&&t.hasOwnProperty("_reactRootContainer"))||e}(t.cancelBubble,t.currentTarget),s="e_id"in a,f="add_promotion"===c.schema;if(u&&(i||s||f)&&!function(e){return P((function(e){return"true"===x(e,"data-tcc-ignore")}),e)}(e))return i?(o=i,_()._signalsDataLayer.push({schema:"add_click",data:o})):f?(r=a,(n=c).eid=r.e_id,_()._expDataLayer.push({schema:n.schema,type:"click",version:"v2",data:d(r,{eid:r.eid,custom_properties:b(r.usrin,"^",",")},n)})):s&&function(e){_()._expDataLayer.push({schema:"add_event",version:"v2",data:{type:"click",eid:e.e_id,tcode:e.tcode,ci:e.ci,tms:e.tms,href:e.href,custom_properties:b(e.usrin,"^",",")}})}(a),!0}(t,e))return!0;var n=function(e){return!!e&&(void 0!==e.returnValue&&!1===e.returnValue||!0===e.defaultPrevented)}(e);return!n&&!Fa(t,e)&&!function(e,t){var n=Ia(e);if(n&&n.onclick){var r=n.onclick;return!(!r||!n.interceptOnClick||(Ba(t),setTimeout((function(){r(t,{run:!0})}),Se("clickListener","navDelayMs")),0))}}(t,e)}catch(e){q(e)}return!0};function Na(){try{return _().React.version.split(".")[0]}catch(e){}}var Ua=function(e,t){_()[t]("load",(function(){var n=Na();if(n&&n>16)for(var r=w().body.getElementsByTagName("*"),o=0;o<r.length;o++){var i=r[o];i.hasOwnProperty("_reactRootContainer")&&i[t](e,Ma.bind(this))}}))},Va=!1,Ga="click",Ka="impression",za="add_to_cart",Wa="remove_from_cart",Ha="begin_checkout",Qa="checkout_progress",$a=function(e,t){var n=t.data,r=n.traffic.eid,o=n.element,i=void 0===o?{}:o,a=i.area,c=i.product,u=i.section,s=i.widget;return null!=r?r:"".concat(a,".").concat(c,".").concat(u,".").concat(s,".").concat(e)},Ja=function(e){var t=e.data,n=t.element,r=t.traffic.eid;return n?n.action:r.split(".").pop()},Xa=function(e){var t,n;switch(e.schemaId){case gr:return function(e,t,n){var r=n.newCustomerFlag,o=n.newVsRenewal;e=e||"modular-cart";var i=t?"payment-pending_":"payment-processed_";return"ecomm.payments.transaction.".concat(r?"new-customer_":"existing-customer_").concat(i).concat(o,".").concat(e,".success")}(null===(t=e.data.cart)||void 0===t?void 0:t.type,null===(n=e.data.payment)||void 0===n?void 0:n.pendingFlag,e.data.order);case br:return"gpd.exp.tcc.add-to-cart.success";case hr:return"gpd.exp.tcc.remove-from-cart.success";case mr:return 1===e.data.checkout.step?"gpd.exp.tcc.begin-checkout.success":"gpd.exp.tcc.checkout-progress.success";case _r:return"traffic.tcc.instrumentation.experiment.add_experiment";case jr:return"".concat("tcc.conversion.").concat(e.data.conversion.area,".").concat(e.data.conversion.product,".").concat(e.data.conversion.revenue,".").concat(e.data.conversion.action);case yr:return e.data.traffic.eid;case dr:return $a(Ja(e),e);case lr:return $a(Ga,e);case pr:return $a(Ka,e);case wr:case Or:return Xo}},Ya=function(e){switch(e.schemaId){case wr:case Or:return"pageperf";case yr:return e.data.traffic.eventCategory;case jr:return"genConv";case gr:case br:case hr:case mr:return"ecommerce";case _r:return"experiment";case dr:return Ja(e);case lr:return Ga;case pr:return Ka}},Za="page.log",ec="page.event",tc=["isc","ci","app","event"],nc=function(e,t){var n={};return e.forEach((function(e){n[e.name]=e[t]})),n},rc=function(e){var t=e.schemaId,n=e.data;switch(t){case vr:return"page.request";case br:return za;case hr:return Wa;case mr:return 1===n.checkout.step?Ha:Qa;case wr:case Or:return Za;case yr:return n.traffic.eid===Xo?Za:ec;default:return ec}};function oc(e){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}var ic="_trfqSendLog",ac=[vr,br,hr,mr,gr,lr,pr,yr,dr,jr,Or,wr,_r],cc=function(e){var t=e.events,n=e.global,r=e.webContext,o=function(e){var t=e.traceId,n=e.context,r=e.page,o=void 0===r?{}:r,i=e.site,a=void 0===i?{}:i,c=e.consent,u=void 0===c?{}:c,s=e.client,f=void 0===s?{}:s;return{visitor_guid:n.visitorId,visit_guid:n.sessionId,customer_id:n.customerId,delegated:n.isDelegated,agent:void 0!==n.employeeId,gauid:n.googleClientId,page_count:o.sessionPageViewCount,location:o.location,sitename:o.host,page:o.virtualPath||o.path,virtual_path:o.virtualPath,referrer:o.referrer,marketid:a.market,privatelabelid:a.privateLabelId,has_consent:u.marketingFlag?"1":"0",page_id:o.id,content_group:o.contentGroup,cv:f.sdk.version,client_name:f.sdk.name,trace_id:t,rand:ho(),same_site:Se("cookie","sameSite")}}(n);t.forEach((function(e){var t=e.schemaId,i=e.data,a=d(o,function(e){var t,n,r,o=e.schemaId,i=e.data,a=e.webContext,c=new te({tms:a.tms,href:a.href,tcode:a.tcode,ci:a.ci,event_label:a.eventLabel,salessite:a.salesSiteFlag,corrid:a.pageCorrelationId,ucid:a.universalContactId,hashed_shopper_id:a.hashedShopperId,user_realm:a.userRealm,page_realm:i.traffic.identityRealm,eventdate:i.eventCreationTimestamp,timestamp:(t=i.eventCreationTimestamp,Math.round(new Date(t).getTime())),hit_id:i.producerEventId,event_type:rc(e),eventtype:Ya(e),e_id:Xa(e)}),u=new yo(i.traffic.customProperties);return o===vr?function(e,t,n){var r=n.data.forensics,o=(void 0===r?{}:r).traceIdAdopted,i=n.webContext,a=i.fsSessionId,c=i.fsDeviceId,u=i.tealiumAppName,s=n.global,f=s.page,l=s.client.device,p=l.viewportWidth,d=l.viewportHeight,y=l.screenResolutionWidth,v=l.screenResolutionHeight;e.merge({browx:p,browy:d,resx:y,resy:v,querystring:f.location.split("?").slice(1).join("?"),traced:o}),t.merge({tealiumAppName:u,fsSessionId:a,fsDeviceId:c})}(c,u,e):o===wr||o===Or?function(e,t,n){var r=n.data,o=r.navigationType,i=r.response,a=r.timing,c=r.contentLoadType,u=n.webContext,s=u.virtualPath,f=u.page;if(e.merge({navigationType:o,nav_type:t===Or?"hard":c}),i&&e.merge(i),a){var l=a.navigation,p=a.marks,d=a.measures,y=a.paint,v=a.vitals;l&&e.merge(ue(l)),p&&e.set("marks",m(nc(p,"startTime"),"^",",")),d&&e.set("measures",m(nc(d,"duration"),"^",",")),y&&e.merge({fcp:y.firstContentfulPaint,fp:y.firstPaint,fetchStart:y.fetchStart,LCP:y.largestContentfulPaint}),v&&e.merge({timeToInteractive:v.timeToInteractive,CLS:v.cumulativeLayoutShift,FID:v.firstInputDelay}),s&&e.set("virtual_path",s),f&&e.set("page",f)}}(c,o,e):o===_r?function(e,t){var n=t.data,r=n.experimentId,o=n.experimentSource,i=n.variantId,a=t.webContext,c=a.contentId,u=a.experimentType;e.merge({experiment_type:u,experiment_id:r,experiment_source:o,variant_id:i,content_id:c})}(u,e):Sr.includes(o)?function(e,t,n){var r=n.data,o=r.cart,i=r.payment,a=r.checkout,c=r.basket,u=r.order,s=r.products,f=r.packages,l=n.webContext;o&&e.merge({activation_redirect:o.activationRedirectFlag,cart_type:o.type}),i&&(e.merge({payment_pending:i.pendingFlag,payment_processor:i.processor}),t.merge({cart_payment_reason_response_code:i.reasonResponseCode,cart_payment_billing_country:i.billingCountry,cart_payment_error_code:i.errorCode})),a&&e.merge({checkout_option:a.option,checkout_step:a.step}),c&&e.merge({currency:c.currencyCode,coupon:c.couponCode}),u?e.merge({transaction_id:u.transactionId,first_order:u.firstOrderFlag,new_customer:u.newCustomerFlag,ecomm_value:u.valueUsd,order_discount_usd:u.discountUsd,order_total_new_usd:u.totalNewUsd,order_total_renewal_usd:u.totalRenewalUsd,new_vs_renewal:u.newVsRenewal}):e.set("ecomm_value",l.valueUsd),s&&e.set("items",JSON.stringify(s.map((function(e,t){var n,r;return y(d({id:e.productId,coupon:e.couponCode,name:e.productName,quantity:null===(n=e.quantity)||void 0===n?void 0:n.toString(),price:null===(r=e.priceUsd)||void 0===r?void 0:r.toString(),itemTrackingCode:e.itemTrackingCode},l.products?{category:l.products[t].category,brand:l.products[t].brand,variant:l.products[t].variant}:{}))})))),f&&e.set("packages",JSON.stringify(f.map((function(e){var t,n;return y({id:e.id,price:null===(t=e.priceUsd)||void 0===t?void 0:t.toString(),quantity:null===(n=e.quantity)||void 0===n?void 0:n.toString(),category:e.category})}))))}(c,u,e):o===jr&&function(e,t){var n=t.data,r=n.conversion,o=n.packageId,i=n.packageCategory,a=n.virtualOrderId;e.merge(d(r,{package_id:o,package_category:i,virtual_order_id:a}))}(u,e),c.set("usrin",u.stringify()),c.merge((n=i.traffic.pageLevelProperties,r=[],p(n,(function(e){tc.includes(e.toLowerCase())||r.push(e)})),d(n,{page_level_properties:r.join()}))),c.getProperties()}({schemaId:t,data:i,webContext:r,global:n}));!function(e,t){var n,r,o=Te("events.api")+t,i=(r={},p(e,(function(e,t){void 0!==t&&"object"!==oc(t)&&"[object Function]"!=={}.toString.call(t)&&(r[e]=t)})),n={},p(r,(function(e,t){void 0!==t&&(n[e]=encodeURIComponent(t))})),n),a=function(e,t){var n=-1===t.indexOf("?")?"?":"&",r=m(e,"&","=");return"".concat(t).concat(n).concat(r)}(i,o);je(a,m(i,"&","="),"GET",null,ic)}(a,function(e,t){return e===vr?"/image.aspx":e===wr||e===Or||e===yr&&t===Xo?"/b.aspx":"/pageEvents.aspx"}(t,i.traffic.eid))}))};function uc(e){return uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(e)}function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==uc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==uc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===uc(o)?o:String(o)),r)}var o}var fc,lc,pc,dc,yc=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.host=t,this.accountId=n,this.dataLayerName=r,this.dataLogName=o,this._dataLayerLog=[],this.dataLayer=_()[this._gtagDataVariable]||[]}var t,n;return t=e,n=[{key:"init",value:function(){return this.loadGtag(),U(this.dataLayerName,this.dataLayer),N(this.dataLogName,this._dataLayerLog),this.push("js",new Date),this}},{key:"push",value:function(){J(M(this.dataLogName),arguments),this.dataLayer.push(arguments)}},{key:"loadGtag",value:function(){ge("".concat(this.host,"/gtag/js?id=").concat(this.accountId,"&l=").concat(this.dataLayerName))}},{key:"setGtagProps",value:function(e){if(e)return e.transport_type="beacon",e.send_to=this.accountId,e}}],n&&sc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),vc=[vr,br,hr,mr,gr,lr,pr,yr,dr,jr],bc=[Xo],mc=function(e){return e.schemaId!==yr||!e.data.traffic.eid.startsWith("hivemind")&&!bc.includes(e.data.traffic.eid)},hc=function(e){return e.filter(mc)},gc=["da-DK","de-AT","de-CH","de-DE","el-GR","en-GB","en-IE","es-ES","fi-FI","fr-BE","fr-CH","fr-FR","it-CH","it-IT","nb-NO","nl-BE","nl-NL","pl-PL","pt-PT","sv-SE"],_c=["da-DK","de-AT","de-BE","de-CH","de-DE","el-GR","en-GB","en-IE","es-ES","fi-FI","fr-BE","fr-CH","fr-FR","it-CH","it-IT","nb-NO","nl-BE","nl-NL","pl-PL","pt-PT","sr-SR","sv-SE"],wc=["en-AE","ar-AE","en-HK","en-IL","en-MY","en-PH","ru-RU","tr-TR","uk-UA","vi-VN","zh-CN","zh-HK"],Oc=function(e){var t=_n("market"),n=_n("OPTOUTMULTI");if(!t||_c.indexOf(t)>-1||n){if(!n)return!1;var r=n.split("|");return!(r.length<=e)&&-1===r[e].indexOf(":1")}return!0},jc=function(){return Oc(1)},Sc=function(){return Oc(2)},Pc=function(){return Oc(3)},kc="denied",Ec="granted",xc=function(e,t){var n,r;t("consent",e,(n=Sc()?Ec:kc,{ad_storage:r=jc()?Ec:kc,ad_user_data:r,ad_personalization:r,analytics_storage:n}))},Cc=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).privateLabelId;return!e||qn()===e},Tc=function(e){var t=M("globalContext");return e.map((function(e){return d(e,{global:d(e.global,{consent:t.consent,context:d(e.global.context,{googleAccountId:t.context.googleAccountId})})})}))},Ic=[],Rc=!1,Lc="sGtm",Dc="_sGtmDataSendLog",Ac=function(){var e=Se("sGtm","host");return e&&"undefined"!==e?"https://".concat(e):Te("g.sst")},qc=function(e){var t=Ui(lc);e.data.forEach((function(e){e.webContext=t})),je("".concat(Ac(),"/csp/collect"),null,"POST",e,Dc,{},"include")},Bc=function(e){var t=e.contextVersion,n=e.events,r=e.hasConversion,o=e.schemaId,i=e.global,a=e.businessContext,c=e.webContext,u=void 0===c?{}:c,s=[];n.forEach((function(e){s.push(d(e,{webContext:u}))})),fc.pushEvent({contextVersion:t,events:s,schemaId:o,global:i,businessContext:a},r)},Fc=function e(){Ni()&&Ui(lc)?(Tc(Ic).forEach((function(e){Bc(e)})),fc.flush(),Rc=!0):setTimeout(e,75)},Mc=function(e){!function(e){lc=Se("sGtm","account");var t=Ac();pc=new yc(t,lc,"_sGtmDataLayer",Dc).init(),xc("default",pc.push.bind(pc)),pc.push("config","".concat(lc),{send_page_view:!1,anonymize_ip:!0,transport_url:t,first_party_collection:!0,groups:Lc}),N(Dc,[]),fc=new qe(qc,10);var n={transport_url:t,send_to:"".concat(lc),groups:Lc};vn.getSession().pageCount<=1&&pc.push("event","gd_session_start",n),e&&pc.push("event","consent_changed",n)}(e),_()._signalsDataLayer=_()._signalsDataLayer||[],_()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-sgtm",batch:!0,fields:["webContext","routing"],callback:function(e){var t=e.schemaId,n=e.global,r=e.businessContext,o=e.events,i=e.webContext,a=e.routing,c=a.hasConversion;!function(e){var t=hc(e.events);if(0!==t.length){dc||(dc=(new Date).getTime()-1);var n=(new Date).getTime(),r=d(e,{events:t,webContext:d(e.webContext,{pageTitle:w().title},{engagementTimeDelta:n-dc})});dc=n,Rc?Bc(r):Ic.push(r)}}({businessContext:r,contextVersion:a.globalContextVersion,schemaId:t,global:n,events:o,webContext:i,hasConversion:c})},schemaIds:vc}}),Fc()};function Nc(e){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(e)}function Uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!==Nc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nc(t)?t:String(t)}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gc=[],Kc=!1,zc="_wGtmDataLayer",Wc="_wGtmDataSendLog",Hc=_()[zc]||[],Qc=[];function $c(){J(M(Wc),arguments),Hc.push(arguments)}var Jc,Xc,Yc=function(e){var t,n=e.event,r=e.schemaId,o=e.global,i=e.businessContext,a=e.webContext,c=void 0===a?{}:a;$c("event",n.schemaId,{event:n,schemaId:r,global:o,businessContext:i,webContext:Vc(Vc({},c),{},{ga4AccountId:(t=_().utag_data,(void 0===t?{}:t).pl_ga_account_id)})})},Zc=function e(){!Sc()||Ni()?(Tc(Gc).forEach((function(e){Yc(e)})),Kc=!0):setTimeout(e,75)},eu=function(e){U(zc,Hc),N(Wc,Qc),xc("default",$c),$c("event","gtm.js",{"gtm.start":(new Date).getTime(),js:new Date}),ge("https://www.googletagmanager.com/gtm.js?id=".concat(Se("wGtm","account"),"&l=").concat(zc)),_()._signalsDataLayer=_()._signalsDataLayer||[],_()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-wgtm",fields:["webContext"],callback:function(e){var t,n=e.schemaId,r=e.global,o=e.businessContext,i=e.event,a=e.webContext;mc((t={businessContext:o,schemaId:n,global:r,event:i,webContext:a}).event)&&(Kc?Yc(t):Gc.push(t))},schemaIds:vc}}),e&&Zc()},tu=function(e){return!!e||void 0},nu=function(e){return function(t){var n=t.eid;return tu(n&&!!n.match(e))}},ru=function(e){var t=_().ux;if(t&&t.data)return t.data[e]},ou=function(e){return function(t){return t.event.data.traffic.customProperties[e]}},iu={visitguid:{cd_scope:{1:"hit",2:"session"},fn:function(e){return e.global.context.sessionId}},visitorguid:{cd_scope:{3:"hit",4:"session",5:"user_scoped"},fn:function(e){return e.global.context.visitorId}},shopper_id:{cd_scope:{6:"hit",7:"session",8:"user_scoped"},fn:function(e){return e.webContext.hashedShopperId}},logged_in_status:{cd_scope:{15:"hit"},fn:function(e){var t=e.global.context,n=t.customerId,r=t.employeeId;return void 0!==(n||r)}},logged_in_status_defined:{cd_scope:{16:"session"},fn:function(e){var t=e.global.context,n=t.customerId,r=t.employeeId;return tu(void 0!==(n||r))}},customer_agent_id:{cd_scope:{17:"hit",18:"session",19:"user_scoped"},fn:function(e){return e.global.context.employeeId}},customer_agent_bool:{cd_scope:{20:"hit"},fn:function(e){return void 0!==e.global.context.employeeId}},customer_agent_bool_defined:{cd_scope:{21:"session"},fn:function(e){var t=e.global.context.employeeId;return tu(t)}},delegated_bool:{cd_scope:{22:"hit"},fn:function(e){return e.global.context.isDelegated}},delegated_bool_defined:{cd_scope:{23:"session"},fn:function(e){var t=e.global.context.isDelegated;return tu(t)}},market:{cd_scope:{24:"hit",25:"session"},fn:function(e){return e.global.site.market}},referrer:{cd_scope:{26:"hit"},fn:function(e){return e.global.page.referrer}},isc:{cd_scope:{27:"hit",28:"session"},fn:function(e){var t=e.queryString;return xe("isc",!1,t)}},user_agent:{cd_scope:{30:"hit",31:"session"},fn:function(e){return e.global.client.userAgent}},querystring:{cd_scope:{32:"hit"},fn:function(e){var t=e.queryString;return decodeURIComponent(Ce(t))}},privatelabelid:{cd_scope:{33:"hit",34:"session"},fn:function(e){return e.global.site.privateLabelId}},ci_code:{cd_scope:{40:"hit",41:"session"},fn:function(e){var t=e.queryString;return xe("ci",!1,t)}},content_meta_tagging_values:{cd_scope:{43:""},fn:function(){return We.get("tcc.contentMetaTaggingValues")}},timestamp:{cd_scope:{44:"hit"},fn:function(e){return e.event.data.eventCreationTimestamp}},eid_experimentation_exp_id:{cd_scope:{47:"hit",48:"session"},fn:function(e){return e.event.data.experimentId}},eid_experimentation_variant_id:{cd_scope:{45:"hit",46:"session"},fn:function(e){return e.event.data.variantId}},eid_sitecore_block_id:{cd_scope:{50:"hit"},fn:ou("block_id")},eid_sitecore_module_id:{cd_scope:{51:"hit"},fn:ou("module_id")},location_uri:{cd_scope:{52:"hit"},fn:function(e){var t=e.queryString;return e.global.page.path+t}},google_client_id:{cd_scope:{53:"hit",54:"session",55:"user_scoped"},fn:function(e){var t=e.global.context.googleClientId;return void 0===t?"Not Available":t}},uxcore_app:{cd_scope:{56:"hit"},fn:function(){return ru("app")}},uxcore_appname:{cd_scope:{57:"hit"},fn:function(){return ru("appName")}},uxcore_manifest_name:{cd_scope:{58:"hit"},fn:function(){return ru("manifest")}},uxcore_manifest_version:{cd_scope:{59:"hit"},fn:function(){return ru("manifestVersion")}},is_gd_salessite_bool:{cd_scope:{62:"hit"},fn:function(e){return e.webContext.salesSiteFlag}},is_gd_salessite_bool_defined:{cd_scope:{63:"session"},fn:function(e){var t=e.webContext.salesSiteFlag;return tu(t)}},item_tracking_code:{cd_scope:{64:"product"}},purchase_payment_pending_bool:{cd_scope:{65:"hit"},fn:function(e){return e.event.data.payment.pendingFlag.toString()}},purchase_discount_applied_usd:{cd_scope:{66:"hit"},cm_scope:{3:""},fn:function(e){return e.event.data.order.discountUsd}},purchase_payment_processor:{cd_scope:{67:"hit"},fn:function(e){return e.event.data.payment.processor}},purchase_is_first_order:{cd_scope:{68:"hit",69:"session"},fn:function(e){return e.event.data.order.firstOrderFlag.toString()}},purchase_is_new_customer:{cd_scope:{70:"hit",71:"session"},fn:function(e){return e.event.data.order.newCustomerFlag.toString()}},purchase_is_activation_redirect:{cd_scope:{72:"hit"},fn:function(e){return e.event.data.cart.activationRedirectFlag.toString()}},content_meta_tagging_article_published_time:{cd_scope:{84:"hit"},fn:function(){return We.get("tcc.contentMetaTaggingArticlePublishedTime")}},gocentral_optimizely_experiment:{cd_scope:{85:"session"}},correlation_id:{cd_scope:{87:"hit"},fn:function(e){return e.webContext.pageCorrelationId}},federation_partner_id:{cd_scope:{89:"user"},fn:function(e){return e.global.site.federationPartnerId}},traffic_load_source:{cd_scope:{91:"hit"},fn:function(e){return e.event.data.traffic.pageLevelProperties.loadSource}},purchase_new_vs_renewal:{cd_scope:{92:""},fn:function(e){return e.event.data.order.newVsRenewal}},page_id:{cd_scope:{93:"hit"},fn:function(e){return e.global.page.id}},traffic_tcc_version:{cd_scope:{94:"hit"},fn:function(e){return e.global.client.sdk.version}},package_ids:{cd_scope:{95:"hit"},fn:function(e){return e.event.data.packages.map((function(e){return e.id})).join(",")}},native_mobile_app_bool:{cd_scope:{96:"session"},fn:function(e){return void 0!==e.global.mobile.deviceId}},native_mobile_appname:{cd_scope:{97:"session"},fn:function(e){return e.global.mobile.applicationName}},hit_id:{cd_scope:{98:"hit"},fn:function(e){return e.event.data.producerEventId}},realm:{cd_scope:{99:"hit",100:"session"},fn:function(e){return e.event.data.traffic.identityRealm}},existing_shopper:{cd_scope:{102:"user_scoped",107:"session"},value:"0"},eid_experimentation_content_id:{cd_scope:{103:"hit",104:"session"},fn:function(e){return e.webContext.contentId}},eid_experimentation_source_id:{cd_scope:{105:"hit",106:"session"},fn:function(e){return e.event.data.experimentSource}},add_to_cart_domain_extension:{cd_scope:{108:"hit"},fn:function(e){var t=e.event;if(e.eid.match("^find.sales.domain_.*.buy.click$"))return t.data.traffic.customProperties.extension}},eid_experimentation_qualtrics_survey_id_hit:{cd_scope:{109:"hit"},fn:function(){return _n("Qint_id")}},purchase_transaction_id:{cd_scope:{112:"hit"},fn:function(e){return e.event.data.order.transactionId}},customer_id:{cd_scope:{116:"hit",117:"session",118:"user_scoped"},fn:function(e){return e.global.context.customerId}},parent_customer_id:{cd_scope:{119:"hit",120:"session",121:"user_scoped"},fn:function(e){return e.global.context.parent.customerId}},payment_reason_response_code:{cd_scope:{122:""},fn:function(e){return e.event.data.payment.reasonResponseCode}},payment_billing_country:{cd_scope:{123:""},fn:function(e){return e.event.data.payment.billingCountry}},purchase_cart_type:{cd_scope:{124:""},fn:function(e){return e.event.data.cart.type}},payment_error_code:{cd_scope:{125:""},fn:function(e){return e.event.data.payment.errorCode}},itc:{cd_scope:{127:"hit"},fn:ou("item_tracking_code")},cart_edit_bool:{cd_scope:{128:""},fn:function(e){return e.event.data.cart.editFlag}},cart_edit_pfid_before:{cd_scope:{129:""},fn:function(e){return e.event.data.cart.beforePfid}},cart_edit_pfid_after:{cd_scope:{130:""},fn:function(e){return e.event.data.cart.afterPfid}},cart_edit_qty_before:{cd_scope:{131:""},fn:function(e){return e.event.data.cart.beforeQuantity}},cart_edit_qty_after:{cd_scope:{132:""},fn:function(e){return e.event.data.cart.afterQuantity}},consent_status:{cd_scope:{133:"hit"},fn:function(){return yn.get("consentModeStatus")}},sitesearch_term:{cd_scope:{134:"hit"},fn:ou("sitesearch_term")},sitesearch_results:{cd_scope:{135:"hit"},fn:ou("sitesearch_results")},plp_category_selected:{cd_scope:{136:"hit"},fn:ou("plp_category_selected")},plp_tags_selected:{cd_scope:{137:"hit"},fn:ou("plp_tags_selected")},plp_business_selected:{cd_scope:{138:"hit"},fn:ou("plp_business_selected")},plp_order:{cd_scope:{139:"hit"},fn:ou("plp_order")},sitesearch_urls:{cd_scope:{140:"hit"},fn:ou("sitesearch_urls")},sitesearch_tab:{cd_scope:{141:"hit"},fn:ou("sitesearch_tab")},sitesearch_category:{cd_scope:{142:"hit"},fn:ou("sitesearch_category")},search_suggestions:{cd_scope:{143:"hit"},fn:ou("search_suggestions")},autocomplete:{cd_scope:{144:"hit"},fn:ou("autocomplete")},popular_terms:{cd_scope:{145:"hit"},fn:ou("popular_terms")},trace_id:{cd_scope:{146:"hit"},fn:function(e){return e.global.traceId}},eid_fos_impressions:{cm_scope:{1:""},fn:function(e){var t=e.event,n=e.eid;return t.schemaId===pr&&n&&!!n.match("^gce.sales./..*")||void 0}},eid_fos_clicks:{cm_scope:{2:""},fn:function(e){var t=e.event,n=e.eid;return t.schemaId===lr&&n&&!!n.match("^gce.sales./..*")||void 0}},uxp_impression:{cm_scope:{4:"hit"},fn:nu("^uxp.hyd.int.salesheader.sales.impression$")},uxp_product_nav_click:{cm_scope:{5:"hit"},fn:nu("^uxp.hyd.product_nav..*.click$")},uxp_sales_header_click:{cm_scope:{6:"hit"},fn:nu("^uxp.hyd.sales_header..*.click$")},uxp_shared_click:{cm_scope:{7:"hit"},fn:nu("^uxp.hyd.shared..*.click$")},uxp_sales_footer_click:{cm_scope:{8:"hit"},fn:nu("^uxp.hyd.sales_footer..*.click$")},content_group1:{fn:function(e){return e.global.page.contentGroup}},coupon:{fn:function(e){var t=e.event.data.basket.couponCode;if("???"!==t)return t}}},au=function(e,t){if(void 0!==e.value)return e.value;var n;if(e.fn)try{n=e.fn(t)}catch(e){}return function(e){return!0===e?"1":!1===e?"0":""!==e?e:void 0}(n)},cu=function(e){var t={};return p(iu,(function(n,r){!0===e&&void 0===r.cd_scope&&void 0===r.cm_scope||(!1!==e||void 0===r.cd_scope&&void 0===r.cm_scope)&&(t[n]=r)})),t},uu=function(e,t){var n={},r=cu(!0);return p(r,(function(r,o){for(var i=["cd_scope","cm_scope"],a=0;a<i.length;a++)if(o.hasOwnProperty(i[a])){var c="dimension",u=o.cd_scope;"cm_scope"===i[a]&&(u=o.cm_scope,c="metric");var s=Object.keys(u),f=void 0;e&&(f=au(o,t));for(var l=0;l<s.length;l++){var p=s[l],d=r;if(u&&u.hasOwnProperty(p)){var y=u[p];y&&(d+="_".concat(y))}e?n[d]=f:n[c+p]=d}}})),n},su=function(){return uu(!1)},fu=["impression","experiment","load","apicall","split-test","redux","change","custom","impress","blur","view","applog","show","success","perf","loaded","clicktaleu","notify","clicktale","consent","timing"],lu=function(e,t){var n,r=t.path,o=t.virtualPath;return e&&-1!==e.indexOf("utm_content=")&&(n=Ce(e)),o||(n?r+n:void 0)},pu=function(e){var t=e.data.promotion;return{id:t.id,name:t.name,creative_slot:t.position,creative_name:t.creative}},du=function(e,t){var n=t.data.products;return(void 0===n?[]:n).map((function(t,n){return d({id:t.productId,coupon:t.couponCode,name:t.productName,quantity:t.quantity,price:t.priceUsd,item_tracking_code_product:t.itemTrackingCode},e.products?{category:e.products[n].category,brand:e.products[n].brand,variant:e.products[n].variant}:{})}))},yu=function(e,t,n,r){var o,i,a,c,u,s,f=Xa(t),l="?".concat(e.page.location.split("?").slice(1).join("?")),y=new te((u=uu(!0,c={global:e,webContext:n,event:t,eid:f,queryString:l}),s=function(e){var t={},n=cu(!1);return p(n,(function(n,r){t[n]=au(r,e)})),t}(c),d(u,s)));if(t.schemaId===vr)y.merge({custom_map:su(),send_page_view:!0,anonymize_ip:!0,page_path:ke(lu(l,e.page))}),i="page_view";else if(Sr.includes(t.schemaId)){var v,b;y.merge({items:du(n,t),currency:null===(v=t.data.basket)||void 0===v?void 0:v.currencyCode,value:(null===(b=t.data.order)||void 0===b?void 0:b.valueUsd)||n.valueUsd}),t.schemaId===gr&&y.set("transaction_id",t.data.order.transactionId),i=a=function(e){switch(e.schemaId){case gr:return"purchase";case br:return za;case hr:return Wa;case mr:return 1===e.data.checkout.step?Ha:Qa}}(t)}else(function(e){var t=e.schemaId,n=e.data;switch(t){case yr:return fu.includes(n.traffic.eventCategory.substring(0,10));case dr:return fu.includes(n.element?n.element.action:n.traffic.eid.split(".").pop());case jr:case vr:case Or:case wr:case pr:case _r:return!0}})(t)&&y.set("non_interaction",!0),t.schemaId===lr&&t.data.promotion?(y.set("promotions",[pu(t)]),i="select_content",f="traffic.tcc.instrumentation.internal_promotion.click",a="internal_promotion_click"):t.schemaId===pr&&r?(y.set("promotions",r),i="view_promotion",f="traffic.tcc.instrumentation.internal_promotion.impression",a="internal_promotion_impression"):i=f;return y.merge({event_category:null!==(o=a)&&void 0!==o?o:Ya(t),event_label:t.schemaId===_r?t.data.experimentId:n.eventLabel,event_action:f}),{eventAction:i,properties:y.getProperties()}};function vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bu,mu,hu,gu,_u,wu,Ou=[],ju=20,Su=function(){return bu||(bu=new yc("https://www.googletagmanager.com",Se("ga","account"),"_analyticsDataLayer","_analyticsDataSendLog")),bu},Pu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ou.push(t)},ku=function(e){return void 0!==e&&"set"!==e[0]},Eu=function(){if(Ou.length>0&&(ju>0||!ku(Ou[0])))try{var e,t=Ou.shift();(e=Su()).push.apply(e,function(e){if(Array.isArray(e))return vu(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vu(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ku(t)&&(ju-=1),0===ju&&setTimeout((function(){ju+=2}),1e3)}catch(e){}var n},xu=function(e,t){var n,r=t.eventAction,o=t.properties;n=e.hashedUserId,Xc!==n&&(Xc=n,Pu("set","user_id",n)),Su().setGtagProps(o,Jc),Pu("event",r,o)},Cu=function(e){var t,n,r=e.global,o=e.events,i=e.webContext,a=o.filter((function(e){return e.schemaId===pr&&e.data.promotion}));a.length>0&&xu(i,yu(r,a[0],i,a.map(pu))),hc((t=o,n=a,t&&n?t.filter((function(e){return!n.includes(e)})):t)).forEach((function(e){xu(i,yu(r,e,i))}))},Tu=function e(){var t,n=Sc(),r=(Sc()||jc()||Pc())&&(Se("sGtm","enabled")&&Cc(Se("sGtm","whitelist"))||Se("wGtm","enabled")&&Cc(Se("wGtm","whitelist")));if(n||r){if(Kn.updateContext(),n&&(Jc=Se("ga","account"),Su().init(),(t={send_page_view:!1,anonymize_ip:!0,page_referrer:w().referrer}).custom_map=su(),Su().push("config",Jc,t),setInterval(Eu,100),_()._signalsDataLayer=_()._signalsDataLayer||[],_()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-ga",batch:!0,callback:Cu,schemaIds:vc,fields:["webContext"]}})),r){var o=!1===mu;o?(xc("update",$c),Zc()):eu(!0),Mc(o)}}else void 0===mu&&eu(!1),mu=!1,setTimeout(e,Se("consent","delayMs"))},Iu={},Ru=["idp","jomax"],Lu={idp:"info_shopperId",jomax:"info_accountName"},Du=function(e){return Object.keys(e).length<1},Au=function(e){var t={},n=_n("info_"+e);if(n)try{t=JSON.parse(n)}catch(e){}return t},qu=function(){return!Du(Iu)},Bu=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.del){if(t.del.typ===n||t.del.del)return r=!1,e(t.del,n,r);if(n===t.typ&&!r)return t[t.auth]}if(n===t.typ&&!r)return t},Fu=function(e,t){return e?t?(r=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},o=function(e,t){return e>>>t|e<<32-t},i=function(e,t){return e>>>t},a=function(e,t,n){return e&t^~e&n},c=function(e,t,n){return e&t^e&n^t&n},u=function(e){return o(e,2)^o(e,13)^o(e,22)},s=function(e){return o(e,6)^o(e,11)^o(e,25)},f=function(e){return o(e,7)^o(e,18)^i(e,3)},function(e){for(var t="0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return n}(function(e,t){var n,l,p,d,y,v,b,m,h,g,_,w,O,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],S=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],P=new Array(64);for(e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t,h=0;h<e.length;h+=16){for(n=S[0],l=S[1],p=S[2],d=S[3],y=S[4],v=S[5],b=S[6],m=S[7],g=0;g<64;g++)P[g]=g<16?e[g+h]:r(r(r((O=P[g-2],o(O,17)^o(O,19)^i(O,10)),P[g-7]),f(P[g-15])),P[g-16]),_=r(r(r(r(m,s(y)),a(y,v,b)),j[g]),P[g]),w=r(u(n),c(n,l,p)),m=b,b=v,v=y,y=r(d,_),d=p,p=l,l=n,n=r(_,w);S[0]=r(n,S[0]),S[1]=r(l,S[1]),S[2]=r(p,S[2]),S[3]=r(d,S[3]),S[4]=r(y,S[4]),S[5]=r(v,S[5]),S[6]=r(b,S[6]),S[7]=r(m,S[7])}return S}(function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(n=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(n=t)),8*n.length))):void 0:t;var n,r,o,i,a,c,u,s,f},Mu=function(e,t,n){if(qu()&&"basic"!==Iu.auth){var r=Bu(Iu,n);if(r)return Fu(t,r[e])}},Nu=function(e){return Mu(Lu.jomax,e,"jomax")},Uu=function e(t,n,r){var o=t.typ;if(void 0===r||!o||o===r){var i=t.auth;return i&&"basic"!==i?e(t[i],n,r):t[n]}},Vu=function(e){if(qu()&&"idp"===Iu.typ)return Fu(e,Uu(Iu,"info_shopperId"))},Gu=function(e){if(qu())return Uu(Iu,e)},Ku={"context.visitorId":function(e){return e.session.visitorGuid},"context.sessionId":function(e){return e.session.visitGuid},"context.customerId":function(){return function(e){if(qu())return Fu(void 0,Uu(Iu,"info_cid"))}()},"context.identityId":function(){return Gu("info_identity")},"context.googleClientId":function(){return Ni()},"context.isDelegated":function(e){return e.delegated},"context.parent.customerId":function(e){return e.delegated?Mu("info_cid",undefined,"idp"):void 0},"context.parent.agentId":function(e){return e.delegated?Nu(!0):void 0},"context.employeeId":function(){return function(e){if(qu()){var t=Iu.typ,n=Iu.auth,r=Lu.jomax;if(n&&"basic"!==n&&"e"===n.charAt(0))return Nu(e);if(t&&"jomax"===t)return Fu(e,Iu[r]);var o=Au("jomax");if(!Du(o))return Fu(e,o[r])}}(!0)},"attribution.isc":function(){return function(){if(hn)return hn;for(var e=0;e<jn.length;e++){var t=jn[e]();if(t){hn=t.replace("|","");break}}return hn}()},"mobile.applicationName":function(){return xe("native_app_name",!0)},"mobile.applicationVersion":function(){return xe("native_app_version",!0)},"mobile.deviceId":function(){return xe("mdeviceid",!0)},"consent.analyticsFlag":function(){return Sc()},"consent.marketingFlag":function(){return jc()},"consent.supportFlag":function(){return Pc()},"page.sessionPageViewCount":function(e){return e.session.pageCount},"site.federationPartnerId":function(){return function(){if(qu()){var e=Uu(Iu,"fpid");if(!e){var t=Iu.typ;void 0!==t&&(e=_n("brand_".concat(t)))}return e}}()},"site.market":function(){return _n("market")}},zu={delegated:function(){return function(){if(!qu())return!1;var e=Iu.auth;return e&&"basic"!==e}()},session:function(){return vn.getSession()}},Wu=["www","ca","uk","sg","au","in","mx","ph","br","my","hk","tr","tw","co","pe","pk","es","vn","nz","ar","za","id","th","ie","ru","fr","it","cl","de","nl","ve","kr","jp","pt","ua","ch","be","se","gr","dk","fi","pl","no","at","cart","ae","il","auctions","account","myh","websites","ar-ae","lite","asia","host"],Hu={salesSiteFlag:function(){if(void 0===hu){hu=!1;var e=j();if(-1===e.indexOf("godaddy.com"))return hu;var t=e.split(".");if(t.length>=2)if(2===t.length)hu=!0;else for(var n=t.slice(0,t.length-2),r=0;r<n.length;r++){var o=n[r];if(Wu.indexOf(o)>-1){hu=!0;break}}}return hu},pageCorrelationId:function(){return yn.get("corrid")},shopperId:function(){return Vu(!1)},hashedShopperId:function(){return Vu(!0)},hashedUserId:function(){return function(e){if(qu()){var t=Iu.typ;return Fu(!0,Uu(Iu,Lu[t]))}}()},userRealm:function(){if(qu())return Iu.typ},universalContactId:function(){return Gu("ucid")},loggedInFlag:qu,tealiumAppName:function(){return(_().utag_data||{}).app_name},fsSessionId:function(e){var t=e.fs;return(void 0===t?{}:t).sessionId},fsDeviceId:function(e){var t=e.fs;return(void 0===t?{}:t).deviceId}},Qu={fs:function(){try{var e=function(){var e=_().FS;if(e)return e.getCurrentSession()}()||function(){var e=_n("fs_uid");if(e){var t=e.split("#")[2];return t&&t.split(":").slice(0,2).join(":")}}();if(e){var t=e.split(":");return{deviceId:t[0],sessionId:t[1]}}}catch(e){}}},$u=[function(){return(e=_().ux,t=(void 0===e?{}:e).data,void 0===t?{}:t).privateLabelId;var e,t},function(){return ct().privatelabelid},function(){return Gu("plid")}],Ju="tcc";return Et(wa),gu=new zo,vn=gu,_u=$u,An.push.apply(An,function(e){if(Array.isArray(e))return Ln(e)}(wu=_u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(wu)||function(e,t){if(e){if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(e,t):void 0}}(wu)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),function(e){var t=e.legacyName,n=e.configManagerProps,r=e.hooks.beforeInit;!function(o){try{var i,a=w().cookie;Object.defineProperty(document,"cookie",{get:function(){return a},set:function(e){(i=i||Object.getOwnPropertyDescriptor(Document.prototype,"cookie")).set.call(document,e),a=i.get.call(document)},configurable:!0,enumerable:!0}),function(){if(a=O().userAgent.toLowerCase(),!/msie [1-8]\./.test(a))if(i="_".concat(t,"Internal"),l=i,void 0!==_()[l]||(_()[l]={},0))q("SCC Library has already been loaded on page");else if(function(e){var t=e.dataLayerName,n=e.clientConfigPrefixes,r=e.ignoredProperties,o=e.legacyName;He=o,et=r||[],$e=t,Ze=n,Qe=_()[$e]||[],U($e,Qe),N("".concat($e,"Log"),tt),at()}(n),r&&r(),"off"!==We.get("".concat(t,".status"))){var o=w();"prerender"!==o.visibilityState?Ao(e):o.addEventListener("visibilitychange",(function(){"prerender"!==o.visibilityState&&"unloaded"!==o.visibilityState&&Ao(e)}))}var i,a}()}finally{delete w().cookie}}()}({legacyName:Ju,trfqMethods:r,configManagerProps:{legacyName:Ju,dataLayerName:"_gaDataLayer",clientConfigPrefixes:[Ju,"gtm"],ignoredProperties:["shopperid","marketid","currency"]},dataLayerConfig:{pageViewSchema:"add_page_request",immediateSchemas:["add_page_request","get_tracking_values","add_ecomm_event"]},globalContextConfig:{contextFnMap:Ku,paramsFnMap:zu},hooks:{beforeInit:function(){!function(){if(!_n("_policy")){var e=_n("market"),t=!e||gc.indexOf(e)>-1,n="none";!e||_c.indexOf(e)>-1?n="explicit":wc.indexOf(e)>-1&&(n="implicit");var r={restricted_market:t,tracking_market:n};gn("_policy",JSON.stringify(r),525600,"/")}}()},beforeLoad:function(){var e;Rn.init({contextFnMap:Hu,paramsFnMap:Qu}),_()._tccTrackingValues=ui.properties,!e&&Va||(function(){if(Se("clickListener","enabled")&&!_().tccListenerDisabled){var e=w().getElementsByTagName("html");if(e)for(var t=_().attachEvent,n=O()&&O().userAgent&&null!=O().userAgent.match(/iPad/i),r=0,o=e.length;r<o;r++){var i=e[r];i&&i.attributes&&i.attributes["data-tcc-ignore"]||(_().addEventListener?n?(i.addEventListener("touchstart",Ma,!1),Ua("touchstart","addEventListener"),i.addEventListener("touchend",qa,!1)):(i.addEventListener("click",Ma,!1),Ua("click","addEventListener"),i.addEventListener("mousedown",qa,!1)):t&&(i.attachEvent("onclick",Ma),Ua("onclick","attachEvent"),i.attachEvent("mousedown",qa)))}}}(),Va=!0)},onLoad:function(){N(ic,[]),_()._signalsDataLayer=_()._signalsDataLayer||[],_()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-event-service",batch:!0,callback:cc,schemaIds:ac,fields:["webContext"]}}),"pass"!==Je("identity","realm")&&Tu(),Je("webVitals","enabled")&&ge(Se("webVitals","url"),!0,(function(){_().tti.calculateTTI()})),function(){var e=xe("orderId");if(e)try{var t=_n("pd".concat(e));if(t){var n=JSON.parse(decodeURIComponent(t));n&&n.orderData&&(_()._expDataLayer=_()._expDataLayer||[],_()._expDataLayer.push(n.orderData))}}catch(e){}}()},beforeEvent:function(){!function(){for(var e={},t=0;t<Ru.length;t++){var n=Au(Ru[t]);!Du(n)&&(Du(e)||e.iat<n.iat)&&(e=n)}Iu=e}()}}}),t})()));